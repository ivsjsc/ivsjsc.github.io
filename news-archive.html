<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tin tức tổng hợp - IVS JSC</title>
    <meta name="description" content="Cập nhật tin tức tổng hợp từ IVS JSC, dịch vụ công, giáo dục, kinh tế và công nghệ.">
    <meta name="keywords" content="IVS JSC, tin tức, sự kiện, dịch vụ công, giáo dục, kinh tế, công nghệ">
    <script src="https://cdn.tailwindcss.com?plugins=typography,forms,aspect-ratio,line-clamp"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" xintegrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/images/logo/logo-192.png">
    <link rel="manifest" href="/manifest.json">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; 
            color: #334155; 
        }
        :root {
            --ivs-primary: #004080;
            --ivs-secondary: #ffc107;
            --ivs-header-orange: #F97316;
            --ivs-primary-dark: #003366;
        }
        .text-primary { color: var(--ivs-primary); }
        .bg-primary { background-color: var(--ivs-primary); }
        .text-secondary { color: var(--ivs-secondary); }
        .bg-secondary { background-color: var(--ivs-secondary); }
        .hover\:bg-primary-dark:hover { background-color: var(--ivs-primary-dark); }
        .text-header-orange { color: var(--ivs-header-orange); }
        .hover\:text-header-orange:hover { color: var(--ivs-header-orange); }

        .section-padding { padding-top: 4rem; padding-bottom: 4rem; } 
        .container-padding { padding-left: 1.5rem; padding-right: 1.5rem; } 
        @media (min-width: 768px) {
            .container-padding { padding-left: 3rem; padding-right: 3rem; } 
        }
        @media (min-width: 1024px) {
            .container-padding { padding-left: 6rem; padding-right: 6rem; } 
        }

        .tab-button.active {
            color: var(--ivs-primary);
            border-color: var(--ivs-primary);
        }
        .skeleton-loader {
            background: linear-gradient(90deg, #e2e8f0 25%, #cbd5e1 50%, #e2e8f0 75%); 
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 0.5rem; 
        }
        html.dark .skeleton-loader {
            background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
            background-size: 200% 100%;
        }
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        .news-card {
            background-color: #ffffff;
            border: 1px solid #e2e8f0; 
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        html.dark .news-card {
            background-color: #1f2937; 
            border-color: #374151;
        }
        .news-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        html.dark .news-card:hover {
            box-shadow: 0 4px 10px rgba(255,255,255,0.05);
        }
        .news-card img {
            max-height: 200px;
            object-fit: cover;
        }
        #header-placeholder:empty::before, 
        #footer-placeholder:empty::before {
            content: attr(data-loading-text);
            min-height: 64px; 
            display: flex;
            align-items: center;
            justify-content: center;
            width:100%;
            background-color: #e5e7eb; 
            color: #6b7280; 
        }
        html.dark #header-placeholder:empty::before, 
        html.dark #footer-placeholder:empty::before {
            background-color: #374151; 
            color: #9ca3af; 
        }
    </style>
</head>
<body class="flex flex-col min-h-screen dark:bg-slate-900 dark:text-slate-300">
    <header id="header-placeholder" data-loading-text="Đang tải menu..."></header>

    <main class="flex-grow">
        <section class="bg-primary text-white py-12 md:py-20 text-center rounded-b-3xl shadow-lg">
            <div class="container mx-auto container-padding">
                <h1 class="text-4xl md:text-5xl font-extrabold mb-4" data-lang-key="news_archive_main_title">IVS News - Tin tức tổng hợp</h1>
                <p class="text-lg md:text-xl max-w-3xl mx-auto" data-lang-key="news_archive_subtitle">
                    Cập nhật những thông tin mới nhất về IVS, giáo dục, kinh tế, công nghệ và các dịch vụ công.
                </p>
            </div>
        </section>

        <section class="section-padding bg-white dark:bg-slate-800 shadow-md my-8 mx-auto max-w-7xl rounded-xl">
            <div class="container mx-auto container-padding">
                <div class="mb-8 flex flex-wrap justify-center gap-2 md:gap-4 border-b border-gray-300 dark:border-gray-700 pb-4">
                    <button class="tab-button active font-semibold py-2 px-4 border-b-2 border-transparent transition-colors duration-300 hover:text-header-orange dark:text-slate-300 dark:hover:text-header-orange" data-tab="ivs-news" data-lang-key="tab_ivs_news">
                        <i class="fas fa-newspaper mr-2"></i>Tin IVS
                    </button>
                    <button class="tab-button font-semibold py-2 px-4 border-b-2 border-transparent transition-colors duration-300 text-gray-600 dark:text-slate-400 hover:text-header-orange dark:hover:text-header-orange" data-tab="public-services-news" data-lang-key="tab_public_services_news">
                        <i class="fas fa-building mr-2"></i>Dịch vụ công
                    </button>
                    <button class="tab-button font-semibold py-2 px-4 border-b-2 border-transparent transition-colors duration-300 text-gray-600 dark:text-slate-400 hover:text-header-orange dark:hover:text-header-orange" data-tab="education-news" data-lang-key="tab_education_news">
                        <i class="fas fa-graduation-cap mr-2"></i>Giáo dục
                    </button>
                    <button class="tab-button font-semibold py-2 px-4 border-b-2 border-transparent transition-colors duration-300 text-gray-600 dark:text-slate-400 hover:text-header-orange dark:hover:text-header-orange" data-tab="economy-news" data-lang-key="tab_economy_news">
                        <i class="fas fa-chart-line mr-2"></i>Kinh tế
                    </button>
                    <button class="tab-button font-semibold py-2 px-4 border-b-2 border-transparent transition-colors duration-300 text-gray-600 dark:text-slate-400 hover:text-header-orange dark:hover:text-header-orange" data-tab="technology-news" data-lang-key="tab_technology_news">
                        <i class="fas fa-microchip mr-2"></i>Công nghệ
                    </button>
                    <button class="tab-button font-semibold py-2 px-4 border-b-2 border-transparent transition-colors duration-300 text-gray-600 dark:text-slate-400 hover:text-header-orange dark:hover:text-header-orange" data-tab="other-news" data-lang-key="tab_other_news">
                        <i class="fas fa-globe-asia mr-2"></i>Thế Giới
                    </button>
                </div>

                <div id="news-content-area">
                    <div id="ivs-news" class="tab-content active">
                        <h2 class="text-2xl font-semibold text-gray-700 dark:text-slate-200 mb-6" data-lang-key="ivs_news_section_title">Tin tức từ IVS JSC</h2>
                        <div id="ivs-news-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="skeleton-loader news-card p-6 rounded-lg"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden md:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden lg:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                        </div>
                    </div>
                    <div id="public-services-news" class="tab-content hidden">
                        <h2 class="text-2xl font-semibold text-gray-700 dark:text-slate-200 mb-6" data-lang-key="public_services_news_section_title">Dịch vụ công Quốc gia</h2>
                        <div class="mb-8">
                            <h3 class="text-xl font-semibold text-gray-700 dark:text-slate-200 mb-4" data-lang-key="public_services_links_title">Liên kết Dịch vụ công</h3>
                            <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm">
                                <li><a href="https://dichvucong.gov.vn" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">Cổng Dịch vụ công Quốc gia</a></li>
                                <li><a href="https://bhxh.gov.vn" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">Bảo hiểm Xã hội Việt Nam</a></li>
                                <li><a href="https://csdl.dichvucong.gov.vn" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">CSDL Dịch vụ công</a></li>
                                <li><a href="https://dangkykinhdoanh.gov.vn/vn/Pages/Trangchu.aspx" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">Đăng ký Doanh nghiệp</a></li>
                                <li><a href="https://thuedientu.gdt.gov.vn/etaxnnt/Request" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">Thuế điện tử</a></li>
                                <li><a href="https://dichvucong.bocongan.gov.vn/bocongan/bothutuc/tthc?matt=26683" target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">DVC Bộ Công an</a></li>
                            </ul>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-700 dark:text-slate-200 mb-4" data-lang-key="public_services_feed_title">Tin tức từ Cổng Dịch vụ công</h3>
                        <div id="public-services-rss-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <p class="text-gray-500 dark:text-gray-400 col-span-full text-center" data-lang-key="loading_public_services_news">Đang tải tin tức dịch vụ công...</p>
                        </div>
                    </div>
                    <div id="education-news" class="tab-content hidden">
                        <h2 class="text-2xl font-semibold text-gray-700 dark:text-slate-200 mb-6" data-lang-key="education_news_section_title">Tin tức Giáo dục</h2>
                        <div id="education-rss-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="skeleton-loader news-card p-6 rounded-lg"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden md:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden lg:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                        </div>
                    </div>
                    <div id="economy-news" class="tab-content hidden">
                        <h2 class="text-2xl font-semibold text-gray-700 dark:text-slate-200 mb-6" data-lang-key="economy_news_section_title">Tin tức Kinh tế</h2>
                        <div id="economy-rss-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="skeleton-loader news-card p-6 rounded-lg"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden md:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden lg:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                        </div>
                    </div>
                    <div id="technology-news" class="tab-content hidden">
                        <h2 class="text-2xl font-semibold text-gray-700 dark:text-slate-200 mb-6" data-lang-key="technology_news_section_title">Tin tức Công nghệ & Khoa học</h2>
                        <div id="technology-rss-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="skeleton-loader news-card p-6 rounded-lg"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden md:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden lg:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                        </div>
                    </div>
                    <div id="other-news" class="tab-content hidden">
                        <h2 class="text-2xl font-semibold text-gray-700 dark:text-slate-200 mb-6" data-lang-key="other_news_section_title">Tin Thế Giới</h2>
                        <div id="other-rss-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="skeleton-loader news-card p-6 rounded-lg"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden md:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                            <div class="skeleton-loader news-card p-6 rounded-lg hidden lg:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section-padding bg-primary text-white text-center rounded-xl shadow-lg my-8 mx-auto max-w-7xl">
            <div class="container mx-auto container-padding">
                <h2 class="text-4xl font-bold mb-6" data-lang-key="news_cta_title">Bạn muốn nhận tin tức mới nhất từ IVS?</h2>
                <p class="text-lg max-w-3xl mx-auto mb-8" data-lang-key="news_cta_subtitle">
                    Đăng ký nhận bản tin của chúng tôi để không bỏ lỡ bất kỳ thông tin quan trọng nào về giáo dục, công nghệ và các sự kiện của IVS.
                </p>
                <a href="/contact.html" class="inline-block bg-secondary hover:bg-yellow-500 text-primary dark:text-gray-900 font-semibold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md" data-lang-key="news_cta_button">
                    Đăng Ký Ngay
                </a>
            </div>
        </section>
    </main>

    <footer id="footer-placeholder" data-loading-text="Đang tải chân trang..."></footer>

    <div id="fab-container" class="fixed bottom-5 right-5 z-[999] flex flex-col items-end space-y-3">
    </div>

    <script src="/js/script.js"></script>
    <script src="/js/language.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="/js/loadComponents.js" defer></script> 

    <script>
    AOS.init({
        offset: 100, 
        duration: 700, 
        easing: 'ease-out-quad', 
        once: true, 
        mirror: false, 
        anchorPlacement: 'top-bottom', 
    });
        
    window.toggleMobileSubmenu = function(button) {
        const submenu = button.nextElementSibling;
        if (submenu && submenu.classList.contains('mobile-submenu')) {
          submenu.classList.toggle('hidden');
          const icon = button.querySelector('i');
          if (icon) {
              icon.classList.toggle('fa-chevron-down');
              icon.classList.toggle('fa-chevron-up');
          }
        }
    };
    
    function initializeFabButtons() {
        const fabContainer = document.getElementById('fab-container');
        if (!fabContainer) return;

        const fabConfig = [
            { id: 'scroll-to-top-btn', title: 'Lên đầu trang', icon: 'fas fa-arrow-up', classes: 'bg-orange-500 hover:bg-orange-600', action: () => window.scrollTo({ top: 0, behavior: 'smooth' }), initialClass: 'fab-hidden items-center justify-center' },
            { 
                id: 'share-main-btn', title: 'Chia sẻ', icon: 'fas fa-share-alt', classes: 'bg-blue-500 hover:bg-blue-600', 
                submenuId: 'share-options',
                submenuItems: [
                    { label: 'Facebook', icon: 'fab fa-facebook-f text-blue-600', action: () => `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}` },
                    { label: 'Twitter', icon: 'fab fa-twitter text-blue-400', action: () => `https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(document.title)}` },
                    { label: 'LinkedIn', icon: 'fab fa-linkedin-in text-blue-700', action: () => `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}` },
                ]
            },
            { 
                id: 'contact-main-btn', title: 'Liên hệ nhanh', icon: 'fas fa-comment-dots', classes: 'bg-green-500 hover:bg-green-600',
                submenuId: 'contact-options',
                submenuItems: [
                    { label: 'Hotline 1', icon: 'fas fa-phone-alt text-green-500', action: 'tel:+84896920547' },
                    { label: 'Hotline 2', icon: 'fas fa-phone-alt text-green-500', action: 'tel:+84795555789' },
                    { label: 'Messenger (HR)', icon: 'fab fa-facebook-messenger text-blue-500', action: 'https://m.me/hr.ivsacademy' },
                    { label: 'Messenger (Mastery)', icon: 'fab fa-facebook-messenger text-blue-500', action: 'https://m.me/ivsmastery' },
                    { label: 'Zalo OA', iconSvg: '<svg class="w-5 h-5 mr-2" viewBox="0 0 50 50" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M9 4C6.2504839 4 4 6.2504839 4 9v32c0 2.749516 2.2504839 5 5 5h32c2.749516 0 5-2.250484 5-5V9c0-2.749516-2.250484-5-5-5H9zm0 2h6.58C12.009 9.716 10 14.518 10 19.5c0 5.16 2.11 10.099 5.91 13.84.12.21.22 1.24-.24 2.43-.29.75-.87 1.73-1.99 2.1.03.45.36.83.8.92 2.87.57 4.73-.29 6.23-.97 1.35-.62 2.24-1.04 3.61.52 2.8 1.09 5.78 1.66 8.86 1.66 4.094 0 8.031-.999 11.5-2.887V41c0 1.668-.332 3-2 3H9c-1.669 0-3-1.332-3-3V9c0-1.669 1.331-3 3-3zM33 15c.55 0 1 .45 1 1v9c0 .55-.45 1-1 1s-1-.45-1-1v-9c0-.55.45-1 1-1zm-15 1l5 0c.36 0 .7.2.88.52.17.31.16.7-.03 1.01L19.8 24H23c.55 0 1 .45 1 1s-.45 1-1 1h-5c-.36 0-.7-.2-.88-.52-.17-.31-.16-.7.03-1.01L21.2 18H18c-.55 0-1-.45-1-1s.45-1 1-1z"/></svg>', action: 'https://zalo.me/ivsjsc' },
                    { label: 'Zalo Tư vấn', iconSvg: '<svg class="w-5 h-5 mr-2" viewBox="0 0 50 50" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M9 4C6.2504839 4 4 6.2504839 4 9v32c0 2.749516 2.2504839 5 5 5h32c2.749516 0 5-2.250484 5-5V9c0-2.749516-2.250484-5-5-5H9zm0 2h6.58C12.009 9.716 10 14.518 10 19.5c0 5.16 2.11 10.099 5.91 13.84.12.21.22 1.24-.24 2.43-.29.75-.87 1.73-1.99 2.1.03.45.36.83.8.92 2.87.57 4.73-.29 6.23-.97 1.35-.62 2.24-1.04 3.61.52 2.8 1.09 5.78 1.66 8.86 1.66 4.094 0 8.031-.999 11.5-2.887V41c0 1.668-.332 3-2 3H9c-1.669 0-3-1.332-3-3V9c0-1.669 1.331-3 3-3zM33 15c.55 0 1 .45 1 1v9c0 .55-.45 1-1 1s-1-.45-1-1v-9c0-.55.45-1 1-1zm-15 1l5 0c.36 0 .7.2.88.52.17.31.16.7-.03 1.01L19.8 24H23c.55 0 1 .45 1 1s-.45 1-1 1h-5c-.36 0-.7-.2-.88-.52-.17-.31-.16-.7.03-1.01L21.2 18H18c-.55 0-1-.45-1-1s.45-1 1-1z"/></svg>', action: 'https://zalo.me/nmt5555789' },
                    { label: 'WhatsApp', icon: 'fab fa-whatsapp text-green-600', action: 'https://wa.me/84795555789' }
                ]
            }
        ];

        fabConfig.forEach(config => {
            const mainButton = document.createElement('button');
            mainButton.id = config.id;
            mainButton.title = config.title;
            mainButton.setAttribute('aria-label', config.title);
            mainButton.className = `w-12 h-12 md:w-14 md:h-14 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 ease-in-out ${config.classes} ${config.initialClass || ''}`;
            mainButton.innerHTML = `<i class="${config.icon}"></i>`;
            
            let submenuDiv;
            if (config.submenuId && config.submenuItems) {
                mainButton.setAttribute('aria-haspopup', 'true');
                mainButton.setAttribute('aria-expanded', 'false');
                submenuDiv = document.createElement('div');
                submenuDiv.id = config.submenuId;
                submenuDiv.className = 'fab-hidden absolute bottom-full right-0 mb-2 w-auto min-w-max p-2 bg-white dark:bg-gray-800 rounded-md shadow-xl border border-gray-200 dark:border-gray-700 flex flex-col items-start space-y-1';
                
                config.submenuItems.forEach(item => {
                    const link = document.createElement('a');
                    link.href = typeof item.action === 'function' ? item.action() : item.action;
                    link.target = '_blank';
                    link.rel = 'noopener noreferrer';
                    link.className = 'flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md w-full text-left';
                    
                    let iconHtml = '';
                    if (item.icon) {
                        iconHtml = `<i class="${item.icon} w-5 h-5 mr-2"></i>`;
                    } else if (item.iconSvg) {
                        iconHtml = item.iconSvg; 
                    }
                    link.innerHTML = `${iconHtml} ${item.label}`;
                    submenuDiv.appendChild(link);
                });

                mainButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isCurrentlyHidden = submenuDiv.classList.contains('fab-hidden');
                    document.querySelectorAll('#fab-container .relative > div').forEach(menu => {
                        if (menu !== submenuDiv) {
                            menu.classList.add('fab-hidden');
                            const btn = menu.previousElementSibling;
                            if (btn) btn.setAttribute('aria-expanded', 'false');
                        }
                    });
                    submenuDiv.classList.toggle('fab-hidden', !isCurrentlyHidden);
                    mainButton.setAttribute('aria-expanded', String(isCurrentlyHidden));
                });
            } else if (config.action) {
                 mainButton.addEventListener('click', config.action);
            }
            
            const wrapperDiv = document.createElement('div');
            if (config.submenuId) {
                wrapperDiv.className = 'relative';
                wrapperDiv.appendChild(mainButton);
                wrapperDiv.appendChild(submenuDiv);
            } else {
                 wrapperDiv.appendChild(mainButton);
            }
            fabContainer.appendChild(wrapperDiv);
        });

        const scrollToTopBtn = document.getElementById('scroll-to-top-btn');
        if (scrollToTopBtn) {
             window.addEventListener('scroll', () => {
                scrollToTopBtn.classList.toggle('fab-hidden', window.pageYOffset <= 100);
                scrollToTopBtn.classList.toggle('flex', window.pageYOffset > 100);
            }, { passive: true });
        }

        document.addEventListener('click', (e) => {
            document.querySelectorAll('#fab-container .relative > div').forEach(menu => {
                const btn = menu.previousElementSibling;
                if (!menu.classList.contains('fab-hidden') && btn && !btn.contains(e.target) && !menu.contains(e.target)) {
                    menu.classList.add('fab-hidden');
                    btn.setAttribute('aria-expanded', 'false');
                }
            });
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('#fab-container .relative > div').forEach(menu => {
                    if (!menu.classList.contains('fab-hidden')) {
                        menu.classList.add('fab-hidden');
                        const btn = menu.previousElementSibling;
                        if (btn) {
                            btn.setAttribute('aria-expanded', 'false');
                            btn.focus();
                        }
                    }
                });
            }
        });
    }

    function initializeTheme() {
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        if (savedTheme) {
            document.documentElement.classList.toggle('dark', savedTheme === 'dark');
        } else {
            document.documentElement.classList.toggle('dark', prefersDark);
        }
    }

    window.onPageComponentsLoadedCallback = function() {
        console.log("[news-archive.html] All components loaded and base systems initialized by loadComponents.js. Initializing page-specific scripts...");
        if (typeof initializeFabButtons === 'function') initializeFabButtons();
        if (typeof setupTabs === 'function') setupTabs(); 
    }

    document.addEventListener('DOMContentLoaded', function() {
        initializeTheme(); 
    });

    async function fetchIvsNews() {
        const newsContainer = document.getElementById('ivs-news-container');
        if (!newsContainer) {
            console.error("IVS news container element not found.");
            return;
        }
        newsContainer.innerHTML = `
            <div class="skeleton-loader news-card p-6 rounded-lg"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
            <div class="skeleton-loader news-card p-6 rounded-lg hidden md:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
            <div class="skeleton-loader news-card p-6 rounded-lg hidden lg:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
        `;
        try {
            const response = await fetch(window.location.origin + '/posts.json'); 
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            const posts = await response.json();
            
            newsContainer.innerHTML = ''; 

            if (posts && posts.length > 0) {
                const displayPosts = posts.slice(0, 6);
                displayPosts.forEach(post => {
                    const currentLang = window.currentLang || 'vi'; 
                    let displayTitle = post.title;
                    if (typeof post.title === 'object' && post.title !== null) {
                        displayTitle = post.title[currentLang] || post.title['vi'] || '';
                    }
                    let displaySummary = post.summary;
                    if (typeof post.summary === 'object' && post.summary !== null) {
                        displaySummary = post.summary[currentLang] || post.summary['vi'] || '';
                    }

                    const postElement = document.createElement('div');
                    postElement.className = 'news-card p-6 rounded-lg shadow-md flex flex-col transition-transform duration-300 ease-in-out hover:scale-105 dark:bg-slate-800 dark:border-slate-700';
                    postElement.innerHTML = `
                        <img src="${post.image || 'https://placehold.co/400x250/cccccc/333333?text=Tin+tức'}" alt="${displayTitle}" class="rounded-md mb-4 object-cover w-full h-48">
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-slate-100 mb-2">${displayTitle}</h3>
                        <p class="text-gray-600 dark:text-slate-400 text-sm mb-3">${post.date || ''}</p>
                        <p class="text-gray-700 dark:text-slate-300 mb-4 flex-grow">${displaySummary}</p>
                        <a href="${post.link}" class="mt-auto text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 font-medium">Đọc thêm <i class="fas fa-arrow-right ml-1"></i></a>
                    `;
                    newsContainer.appendChild(postElement);
                });
            } else {
                newsContainer.innerHTML = `<p class="text-gray-500 dark:text-gray-400 col-span-full text-center">Không có tin tức nào để hiển thị.</p>`;
            }
        } catch (error) {
            console.error('Error fetching or processing posts.json:', error);
            newsContainer.innerHTML = `<p class="text-red-500 dark:text-red-400 col-span-full text-center">Lỗi tải tin tức: ${error.message}. Vui lòng thử lại sau.</p>`;
        }
    }
    
    async function fetchGenericRssFeed(rssConfig) {
        const { rssUrl, containerId, titleKey, loadingKey, errorKey, noNewsKey } = rssConfig;
        const feedContainer = document.getElementById(containerId);
        const currentLang = window.currentLang || 'vi';
        const translations = window.translations && window.translations[currentLang] ? window.translations[currentLang] : {};


        if (!feedContainer) {
            console.error(`RSS container element #${containerId} not found.`);
            return;
        }
        feedContainer.innerHTML = `
            <div class="skeleton-loader news-card p-6 rounded-lg"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
            <div class="skeleton-loader news-card p-6 rounded-lg hidden md:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
            <div class="skeleton-loader news-card p-6 rounded-lg hidden lg:block"><div class="h-40 mb-4"></div> <div class="h-6 w-3/4 mb-2"></div> <div class="h-4 w-full"></div> <div class="h-4 w-5/6 mt-1"></div> <div class="h-4 w-1/2 mt-4"></div> </div>
        `;
        
        const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;

        try {
            const response = await fetch(apiUrl);
            if (!response.ok) {
                throw new Error(`Network response was not ok: ${response.statusText}`);
            }
            const data = await response.json();
            feedContainer.innerHTML = '';

            if (data.status === 'ok' && data.items && data.items.length > 0) {
                const items = data.items.slice(0, 6); 
                items.forEach(item => {
                    const articleDiv = document.createElement('div');
                    articleDiv.className = 'news-card p-6 rounded-lg shadow-md flex flex-col dark:bg-slate-800 dark:border-slate-700';

                    let imageUrl = item.thumbnail; 
                    if (!imageUrl && item.enclosure && item.enclosure.link && item.enclosure.type && item.enclosure.type.startsWith('image/')) {
                        imageUrl = item.enclosure.link;
                    }
                    if (!imageUrl && item.description) {
                        const imgRegex = /<img src="([^"]+)"[^>]*>/;
                        const imgMatch = item.description.match(imgRegex);
                        if (imgMatch && imgMatch[1]) {
                            imageUrl = imgMatch[1];
                        }
                    }
                    
                    const imageHtml = imageUrl ? `<img src="${imageUrl}" alt="${item.title || 'News image'}" class="rounded-md mb-4 object-cover w-full h-48">` : '<div class="h-48 mb-4 bg-gray-200 dark:bg-gray-700 rounded-md flex items-center justify-center"><i class="fas fa-image fa-3x text-gray-400 dark:text-gray-500"></i></div>';

                    const titleLink = document.createElement('a');
                    titleLink.href = item.link;
                    titleLink.target = '_blank';
                    titleLink.rel = 'noopener noreferrer';
                    titleLink.className = 'text-xl font-semibold text-gray-800 dark:text-slate-100 hover:text-blue-600 dark:hover:text-blue-400 mb-2 block';
                    titleLink.textContent = item.title || 'Không có tiêu đề';

                    const pubDate = new Date(item.pubDate);
                    const dateString = pubDate.toLocaleDateString('vi-VN', { day: '2-digit', month: '2-digit', year: 'numeric' });
                    const dateParagraph = document.createElement('p');
                    dateParagraph.className = 'text-gray-600 dark:text-slate-400 text-sm mb-3';
                    dateParagraph.textContent = dateString;
                    
                    let descriptionText = '';
                    if (item.description) {
                        const tempDiv = document.createElement('div');
                        tempDiv.innerHTML = item.description;
                        descriptionText = tempDiv.textContent || tempDiv.innerText || "";
                        const summaryLimit = 120; 
                        descriptionText = descriptionText.length > summaryLimit ? descriptionText.substring(0, summaryLimit) + "..." : descriptionText;
                    }
                    const descriptionParagraph = document.createElement('p');
                    descriptionParagraph.className = 'text-gray-700 dark:text-slate-300 mb-4 flex-grow text-sm';
                    descriptionParagraph.textContent = descriptionText || 'Không có mô tả.';

                    articleDiv.innerHTML = `
                        ${imageHtml}
                        ${titleLink.outerHTML}
                        ${dateParagraph.outerHTML}
                        ${descriptionParagraph.outerHTML}
                        <a href="${item.link}" target="_blank" rel="noopener noreferrer" class="mt-auto text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-sm">Đọc thêm <i class="fas fa-arrow-right ml-1"></i></a>
                    `;
                    feedContainer.appendChild(articleDiv);
                });
            } else {
                feedContainer.innerHTML = `<p class="text-gray-500 dark:text-gray-400 col-span-full text-center">${translations[noNewsKey] || 'Không có tin tức nào để hiển thị.'}</p>`;
            }
        } catch (error) {
            console.error(`Error fetching RSS feed for ${containerId}:`, error);
            feedContainer.innerHTML = `<p class="text-red-500 dark:text-red-400 col-span-full text-center">${translations[errorKey] || 'Lỗi tải tin tức.'} (${error.message})</p>`;
        }
    }

    function fetchPublicServicesNews() {
         fetchGenericRssFeed({ 
            rssUrl: 'https://thanhtra.gov.vn/rss/Pages/chuyenmuctin.aspx?ChuyenMucID=63', 
            containerId: 'public-services-rss-container',
            titleKey: 'public_services_feed_title',
            loadingKey: 'loading_public_services_news',
            errorKey: 'rss_load_error',
            noNewsKey: 'rss_no_news'
        });
    }

    function setupTabs() {
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        const rssFeeds = {
            'education-news': { rssUrl: 'https://vnexpress.net/rss/giao-duc.rss', containerId: 'education-rss-container', titleKey: 'education_news_section_title', loadingKey: 'rss_loading_feed', errorKey: 'rss_load_error', noNewsKey: 'rss_no_news' },
            'economy-news': { rssUrl: 'https://vnexpress.net/rss/kinh-doanh.rss', containerId: 'economy-rss-container', titleKey: 'economy_news_section_title', loadingKey: 'rss_loading_feed', errorKey: 'rss_load_error', noNewsKey: 'rss_no_news' },
            'technology-news': { rssUrl: 'https://vnexpress.net/rss/so-hoa.rss', containerId: 'technology-rss-container', titleKey: 'technology_news_section_title', loadingKey: 'rss_loading_feed', errorKey: 'rss_load_error', noNewsKey: 'rss_no_news' },
            'other-news': { rssUrl: 'https://vnexpress.net/rss/the-gioi.rss', containerId: 'other-rss-container', titleKey: 'other_news_section_title', loadingKey: 'rss_loading_feed', errorKey: 'rss_load_error', noNewsKey: 'rss_no_news' }
        };

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                tabButtons.forEach(btn => {
                    btn.classList.remove('active', 'text-primary', 'border-primary', 'dark:text-primary', 'dark:border-primary');
                    btn.classList.add('text-gray-600', 'dark:text-slate-400');
                });
                tabContents.forEach(content => content.classList.add('hidden'));

                button.classList.add('active', 'text-primary', 'border-primary', 'dark:text-primary', 'dark:border-primary');
                button.classList.remove('text-gray-600', 'dark:text-slate-400');
                
                const targetTabId = button.dataset.tab;
                document.getElementById(targetTabId).classList.remove('hidden');

                if (targetTabId === 'ivs-news') {
                    fetchIvsNews();
                } else if (targetTabId === 'public-services-news') {
                    fetchPublicServicesNews();
                } else if (rssFeeds[targetTabId]) {
                    fetchGenericRssFeed(rssFeeds[targetTabId]);
                }
            });
        });
        fetchIvsNews();
    }

    function initializeNewsLoader() {
    }

    const videoSection = document.querySelector('.video-background-section'); 
    if (videoSection) {
        const videoElement = videoSection.querySelector('.video-background-container video');
        if (videoElement) {
            videoElement.addEventListener('error', function() {
                console.warn('Background video failed to load. Displaying fallback.');
                if(videoElement.parentElement) {
                    videoElement.parentElement.style.backgroundImage='url(https://placehold.co/1920x500/374151/ffffff?text=Video+Fallback+IVS)';
                    videoElement.parentElement.style.backgroundSize='cover';
                    videoElement.parentElement.style.backgroundPosition='center';
                }
                videoElement.style.display='none'; 
                videoSection.classList.add('video-failed-to-load'); 
            });
        }
    }
    </script>
</body>
</html>
