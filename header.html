<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IVS JSC Header - JS Dropdown & Colors</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- Theme Variables --- */
        :root {
            /* Updated main header colors */
            --header-bg: #f97316; /* orange-600 */
            --header-hover-bg: #ea580c; /* orange-700 */
            --header-text: white;

            /* Updated submenu colors */
            --submenu-bg: white;
            --submenu-text: #1d4ed8; /* blue-700 */
            --submenu-hover-bg: #f3f4f6; /* gray-100 */
            --submenu-hover-text: #2563eb; /* blue-600 */
            --submenu-border: #e5e7eb; /* gray-200 */

            /* Mobile menu colors (can be adjusted) */
            --mobile-menu-bg: #f9fafb;
            --mobile-menu-text: #374151;
            --mobile-menu-hover-bg: #dbeafe;
            --mobile-menu-hover-text: #1e40af;
            --mobile-menu-border: #e5e7eb;

            /* CTA button colors */
            --cta-bg: #2563eb; /* blue-600 */
            --cta-hover-bg: #1d4ed8; /* blue-700 */
            --cta-text: white;
        }

        /* --- Desktop Submenu Styles --- */
        .submenu, .sub-submenu {
            background-color: var(--submenu-bg);
            border: 1px solid var(--submenu-border);
            display: none; /* Initially hidden, controlled by JS */
            opacity: 0;
            transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;
            visibility: hidden;
        }
        /* Class added by JS to show submenu */
        .submenu.open, .sub-submenu.open {
            display: block;
            opacity: 1;
            visibility: visible;
        }

        .submenu a, .submenu button,
        .sub-submenu a, .sub-submenu button {
            /* Updated text color */
            color: var(--submenu-text) !important;
            padding: 0.5rem 1rem;
            display: block;
            width: 100%;
            text-align: left;
            font-size: 0.875rem;
            border-radius: 0.375rem;
            transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;
        }
        .submenu a:hover, .submenu button:hover,
        .sub-submenu a:hover, .sub-submenu button:hover {
            /* Updated hover colors */
            background-color: var(--submenu-hover-bg) !important;
            color: var(--submenu-hover-text) !important;
        }
        .submenu hr {
             border-color: var(--submenu-border);
        }
        .sub-submenu-container > button svg {
            color: #9ca3af; /* gray-400 */
        }
        .sub-submenu-container > button:hover svg {
             color: var(--submenu-hover-text);
        }
         /* Nested Submenu positioning */
         .sub-submenu {
             position: absolute;
             top: 0;
             left: 100%; /* Position to the right */
             margin-left: 0.25rem; /* Small gap */
             display: none; /* Initially hidden */
         }
         .sub-submenu-container:hover > .sub-submenu {
             display: block; /* Show nested on hover */
             opacity: 1;
             visibility: visible;
         }


        /* --- Mobile Menu Styles (Keep as before) --- */
        #mobile-menu-panel { background-color: var(--mobile-menu-bg); color: var(--mobile-menu-text); }
        #mobile-menu-panel a, #mobile-menu-panel button { padding: 0.5rem 1rem; display: block; width: 100%; text-align: left; border-radius: 0.375rem; transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out; }
        #mobile-menu-panel a:hover, #mobile-menu-panel .mobile-submenu-toggle:hover { background-color: var(--mobile-menu-hover-bg); color: var(--mobile-menu-hover-text); }
        #mobile-menu-panel .mobile-submenu a:hover, #mobile-menu-panel .mobile-submenu button:hover { background-color: var(--mobile-menu-hover-bg); color: var(--mobile-menu-hover-text); }
        #mobile-menu-panel .mobile-menu-item > button { font-weight: 500; }
        #mobile-menu-panel .mobile-menu-item .mobile-submenu a, #mobile-menu-panel .mobile-menu-item .mobile-submenu button { font-size: 0.875rem; color: #4b5563; }
        #mobile-menu-panel .mobile-menu-item .mobile-submenu .mobile-submenu a, #mobile-menu-panel .mobile-menu-item .mobile-submenu .mobile-submenu button { font-size: 0.75rem; color: #6b7280; }
        #mobile-menu-panel hr { border-color: var(--mobile-menu-border); }
        #mobile-header, #mobile-footer { border-color: var(--mobile-menu-border); }
        .mobile-menu-item .submenu-arrow { transition: transform 0.3s ease-in-out; color: #6b7280; }
        .mobile-menu-item button:hover .submenu-arrow { color: var(--mobile-menu-hover-text); }
        .mobile-menu-item.open > button .submenu-arrow { transform: rotate(90deg); }
        .mobile-submenu { transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out; overflow: hidden; max-height: 0; opacity: 0; border-radius: 0.375rem; margin-top: 0.25rem; }
        .mobile-menu-item.open > .mobile-submenu { max-height: 1000px; opacity: 1; }
        .mobile-submenu .mobile-submenu { padding-left: 1rem; margin-left: 0.5rem; border-left: 2px solid var(--mobile-menu-border); }

        /* --- Language Dropdown Styles (Keep as before, adjust colors if needed) --- */
        .language-dropdown-content { display: none; }
        .language-dropdown.open .language-dropdown-content { display: block; }
        #desktop-language-dropdown .language-dropdown-content { background-color: var(--submenu-bg); border: 1px solid var(--submenu-border); }
        #desktop-language-dropdown .lang-button { color: var(--submenu-text); } /* Use submenu text color */
        #desktop-language-dropdown .lang-button:hover { background-color: var(--submenu-hover-bg); color: var(--submenu-hover-text); }
        #desktop-language-dropdown .lang-button:disabled { background-color: #e5e7eb; color: var(--submenu-hover-text); opacity: 1; cursor: default; }
        #desktop-language-dropdown .dropdown-toggle svg { transition: transform 0.2s ease-in-out; }
        #desktop-language-dropdown.open .dropdown-toggle svg { transform: rotate(180deg); }
        #mobile-language-dropdown { border-color: var(--mobile-menu-border); background-color: #f3f4f6; }
        #mobile-language-dropdown .language-dropdown-content { position: static; box-shadow: none; margin-top: 0.5rem; background-color: white; border-radius: 0.375rem; border: 1px solid var(--mobile-menu-border); padding: 0.5rem 0; }
        #mobile-language-dropdown .dropdown-toggle { color: var(--mobile-menu-text); font-weight: 500; }
        #mobile-language-dropdown .dropdown-toggle:hover { background-color: var(--mobile-menu-hover-bg); color: var(--mobile-menu-hover-text); }
        #mobile-language-dropdown .lang-button { color: var(--submenu-text); padding: 0.5rem 1rem; font-size: 0.875rem; }
        #mobile-language-dropdown .lang-button:hover { background-color: var(--submenu-hover-bg); color: var(--submenu-hover-text); }
        #mobile-language-dropdown .lang-button:disabled { background-color: #dbeafe; color: #1e40af; opacity: 1; cursor: default; font-weight: 500; }

        /* --- Main Menu Item Styling (Updated Colors) --- */
        .main-menu-item .nav-link {
             color: var(--header-text);
             white-space: nowrap;
             transition: background-color 0.15s ease-in-out;
             padding: 0.5rem 0.75rem;
             font-size: 0.875rem;
             font-weight: 600;
             border-radius: 0.375rem;
        }
        /* Hover effect for main items */
         .main-menu-item > a.nav-link:hover, /* Direct links */
         .main-menu-item > button.nav-link:hover /* Buttons triggering dropdown */
         {
             background-color: var(--header-hover-bg);
             color: var(--header-text);
         }
        /* Arrow color */
        .main-menu-item > button svg {
             color: #fdba74; /* orange-300 */
             transition: color 0.15s ease-in-out;
        }
         .main-menu-item > button:hover svg {
             color: white;
         }

        #navbar.shrink {}
        #navbar.shrink .nav-link {}
        #navbar.shrink .logo-img {}

    </style>
</head>
<body class="bg-gray-100">

<header id="navbar" class="text-white shadow-md sticky top-0 z-50 transition-all duration-300" style="background-color: var(--header-bg);">
    <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
            <div class="flex-shrink-0">
                <a href="index.html" class="flex items-center">
                    <img class="h-10 w-auto rounded-md logo-img transition-all duration-300" src="images/logo/logo1.png" alt="IVS JSC Logo" data-lang-key="logo_alt" onerror="this.onerror=null; this.src='images/logo/logo.png'; this.onerror=null; this.src='https://placehold.co/150x40/ffffff/F97316?text=IVS+Logo';">
                </a>
            </div>

            <div class="hidden lg:flex lg:items-center lg:space-x-4 xl:space-x-6 lg:flex-nowrap">
                <ul id="menu-items" class="flex items-center space-x-1 xl:space-x-2">
                    <li class="main-menu-item">
                        <a href="index.html" class="nav-link" data-lang-key="menu_home" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">Trang chủ</a>
                    </li>

                    <li class="relative main-menu-item dropdown-trigger"> <button aria-haspopup="true" aria-expanded="false" class="nav-link inline-flex items-center" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                            <span data-lang-key="menu_about">Giới thiệu</span>
                            <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                        </button>
                        <div class="submenu absolute w-56 rounded-md shadow-lg py-1 z-50 mt-1"> <a href="about.html" class="nav-link" data-lang-key="menu_about_ivs">Về IVS JSC</a>
                            <a href="summercamp.html" class="nav-link" data-lang-key="menu_summer_camp">Trại hè Quốc tế</a>
                            <a href="hocbong.html" class="nav-link" data-lang-key="menu_scholarships">Học bổng</a>
                            <a href="hay-noi.html" class="nav-link" data-lang-key="menu_hay_noi_club">Chương trình "Hãy Nói"</a>
                        </div>
                    </li>

                     <li class="relative main-menu-item dropdown-trigger">
                         <button aria-haspopup="true" aria-expanded="false" class="nav-link inline-flex items-center" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                             <span data-lang-key="menu_training">Đào tạo</span>
                             <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                         </button>
                         <div class="submenu absolute w-64 rounded-md shadow-lg py-1 z-50 mt-1">
                             <div class="relative sub-submenu-container"> <button aria-haspopup="true" aria-expanded="false" class="nav-link w-full inline-flex items-center justify-between">
                                     <span data-lang-key="menu_educational_link">Liên kết giáo dục</span>
                                     <svg class="ml-1 h-4 w-4 rotate-[-90deg]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                                 </button>
                                 <div class="sub-submenu w-56 rounded-md shadow-lg py-1 z-50"> <a href="lkmamnon.html" class="nav-link" data-lang-key="menu_link_preschool">Mầm non</a>
                                     <a href="lktieuhoc.html" class="nav-link" data-lang-key="menu_link_primary">Tiểu học</a>
                                     <a href="lkthcsthpt.html" class="nav-link" data-lang-key="menu_link_secondary">THCS & THPT</a>
                                     <a href="lkttnn.html" class="nav-link" data-lang-key="menu_link_language_center">Trung tâm Ngoại ngữ</a>
                                 </div>
                             </div>
                             <div class="relative sub-submenu-container">
                                  <button aria-haspopup="true" aria-expanded="false" class="nav-link w-full inline-flex items-center justify-between">
                                      <span data-lang-key="menu_training_center">Tại trung tâm</span>
                                      <svg class="ml-1 h-4 w-4 rotate-[-90deg]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                                  </button>
                                  <div class="sub-submenu w-56 rounded-md shadow-lg py-1 z-50">
                                      <a href="ivslanguages.html" class="nav-link" data-lang-key="menu_training_language">Đào tạo ngoại ngữ</a>
                                      <a href="ivslifeminds.html" class="nav-link" data-lang-key="menu_training_lifeskills">Đào tạo kỹ năng sống</a>
                                  </div>
                              </div>
                              <div class="relative sub-submenu-container">
                                   <button aria-haspopup="true" aria-expanded="false" class="nav-link w-full inline-flex items-center justify-between">
                                       <span data-lang-key="menu_training_teacher">Đào tạo giáo viên</span>
                                       <svg class="ml-1 h-4 w-4 rotate-[-90deg]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                                   </button>
                                   <div class="sub-submenu w-56 rounded-md shadow-lg py-1 z-50">
                                       <a href="teachertrain.html" class="nav-link" data-lang-key="menu_training_teacher_vn">Giáo viên VN</a>
                                       <a href="fteachertrain.html" class="nav-link" data-lang-key="menu_training_teacher_foreign">Giáo viên nước ngoài</a>
                                   </div>
                               </div>
                             <hr class="my-1">
                             <a href="bosungchungchi.html" class="nav-link" data-lang-key="menu_training_teacher_cert">Bổ sung chứng chỉ NVSP</a>
                             <a href="english-placement.html" class="nav-link" data-lang-key="menu_placement_test">Kiểm tra trình độ</a>
                         </div>
                     </li>

                    <li class="relative main-menu-item dropdown-trigger">
                         <button aria-haspopup="true" aria-expanded="false" class="nav-link inline-flex items-center" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                              <span data-lang-key="menu_cooperation">Hợp tác</span>
                              <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                          </button>
                          <div class="submenu absolute w-64 rounded-md shadow-lg py-1 z-50 mt-1">
                              <a href="lien-ket-quoc-te.html" class="nav-link" data-lang-key="menu_international_link">Liên kết Quốc tế</a>
                              <a href="lienminhiivsa.html" class="nav-link" data-lang-key="menu_iivsa_alliance">Liên minh IIVSA</a>
                              <a href="hop-tac-dau-tu.html" class="nav-link" data-lang-key="menu_investment_cooperation">Hợp tác Đầu tư</a>
                              <a href="philoinhuan.html" class="nav-link" data-lang-key="menu_non_profit">Tổ chức Phi lợi nhuận</a>
                              <a href="tai-tro.html" class="nav-link" data-lang-key="menu_sponsorship">Tài trợ</a>
                          </div>
                      </li>

                    <li class="relative main-menu-item dropdown-trigger">
                          <button aria-haspopup="true" aria-expanded="false" class="nav-link inline-flex items-center" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                              <span data-lang-key="menu_services">Dịch vụ</span>
                              <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                           </button>
                           <div class="submenu absolute w-56 rounded-md shadow-lg py-1 z-50 mt-1">
                               <a href="tuvan.html" class="nav-link" data-lang-key="menu_edu_consulting">Tư vấn Giáo dục</a>
                               <a href="thanhlaptrungtam.html" class="nav-link" data-lang-key="menu_center_establishment">Thành lập Trung tâm</a>
                               <a href="webdesign.html" class="nav-link" data-lang-key="menu_web_design">Thiết kế Web</a>
                               <a href="rnd-curriculum.html" class="nav-link" data-lang-key="menu_design_edu">Thiết kế Học liệu</a>
                           </div>
                       </li>

                    <li class="relative main-menu-item dropdown-trigger">
                         <button aria-haspopup="true" aria-expanded="false" class="nav-link inline-flex items-center" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                             <span data-lang-key="menu_healths">Sức khỏe</span>
                             <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                         </button>
                          <div class="submenu absolute w-56 rounded-md shadow-lg py-1 z-50 mt-1">
                              <a href="health-yensao.html" class="nav-link" data-lang-key="menu_health_yensao">Yến sào Thanh Yến</a>
                              <a href="health-luvyoga.html" class="nav-link" data-lang-key="menu_health_luvyoga">LuvYoga Lộc Hòa </a>
                          </div>
                      </li>

                    <li class="relative main-menu-item dropdown-trigger">
                           <button aria-haspopup="true" aria-expanded="false" class="nav-link inline-flex items-center" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                               <span data-lang-key="menu_library">Thư viện</span>
                               <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                           </button>
                           <div class="submenu absolute w-56 rounded-md shadow-lg py-1 z-50 mt-1">
                                <a href="tailieugd.html" class="nav-link" data-lang-key="menu_library_docs">Tài liệu giáo dục</a>
                                <a href="ivsmedia.html" class="nav-link" data-lang-key="menu_library_media">IVSMedia</a>
                           </div>
                       </li>

                    <li class="relative main-menu-item dropdown-trigger">
                           <button aria-haspopup="true" aria-expanded="false" class="nav-link inline-flex items-center" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                               <span data-lang-key="menu_recruitment">Tuyển dụng</span>
                               <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
                            </button>
                            <div class="submenu absolute w-64 rounded-md shadow-lg py-1 z-50 mt-1">
                                <a href="careervn.html" class="nav-link" data-lang-key="menu_recruitment_vn">Tuyển dụng nội địa (VN)</a>
                                <a href="careerf.html" class="nav-link" data-lang-key="menu_recruitment_intl">Tuyển dụng quốc tế (Intl)</a>
                           </div>
                       </li>

                    <li class="main-menu-item">
                        <a href="contact.html" class="nav-link" data-lang-key="menu_contact" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">Liên hệ</a>
                    </li>
                </ul>

                <div class="flex items-center space-x-3 ml-4">
                    <button type="button" class="p-2 rounded-full transition duration-150 ease-in-out" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                        <span class="sr-only" data-lang-key="search">Tìm kiếm</span>
                    </button>

                    <a href="dangkytuvan.html" class="text-white px-4 py-1.5 rounded-full hover:bg-blue-700 text-sm font-semibold transition duration-300 whitespace-nowrap" data-lang-key="register_consultation" style="background-color: var(--cta-bg); color: var(--cta-text);">
                         Đăng Ký Tư vấn
                     </a>

                     <div id="desktop-language-dropdown" class="language-dropdown relative border-l border-orange-400 pl-3 ml-1"> <button id="desktop-lang-toggle" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle text-sm font-semibold focus:outline-none inline-flex items-center px-2 py-1 rounded-md transition-colors duration-150" style="color: var(--header-text); background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                              <span id="desktop-current-lang">VN</span>
                              <svg class="ml-1 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                          </button>
                          <div id="desktop-lang-options" class="language-dropdown-content absolute right-0 mt-2 w-20 rounded-md shadow-lg py-1 z-50">
                              <button type="button" class="lang-option lang-button block w-full text-left px-4 py-2 text-sm rounded-md" data-lang="vi">VN</button>
                              <button type="button" class="lang-option lang-button block w-full text-left px-4 py-2 text-sm rounded-md" data-lang="en">EN</button>
                          </div>
                      </div>
                </div>
            </div>

             <div class="lg:hidden flex items-center">
                 <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-orange-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu-panel" aria-expanded="false" style="background-color: transparent;" onmouseover="this.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue('--header-hover-bg')" onmouseout="this.style.backgroundColor='transparent'">
                     <span class="sr-only" data-lang-key="open_main_menu">Mở menu chính</span>
                     <svg id="icon-menu" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                         <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                     </svg>
                     <svg id="icon-close" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                      </svg>
                 </button>
             </div>
        </div>
    </nav>

    <div class="lg:hidden hidden fixed inset-0 bg-gray-800 bg-opacity-75 z-40 transition-opacity duration-300 ease-in-out opacity-0" id="mobile-menu-overlay"></div>
     <div id="mobile-menu-panel" class="lg:hidden hidden fixed top-0 right-0 h-full w-64 shadow-xl z-50 transform translate-x-full transition-transform duration-300 ease-in-out flex flex-col" style="background-color: var(--mobile-menu-bg); color: var(--mobile-menu-text);">
         <div id="mobile-header" class="pt-4 pb-3 px-4 border-b flex justify-between items-center flex-shrink-0" style="border-color: var(--mobile-menu-border);">
             <a href="index.html" class="flex items-center">
                 <img class="h-8 w-auto rounded-sm" src="images/logo/logo.png" alt="IVS JSC Logo" data-lang-key="logo_alt" onerror="this.onerror=null; this.src='https://placehold.co/120x32/3B82F6/ffffff?text=IVS+Logo';">
             </a>
             <button id="mobile-close-button" type="button" class="p-1 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500">
                 <span class="sr-only">Đóng menu</span>
                 <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                  </svg>
             </button>
         </div>
         <div class="px-2 pt-2 pb-3 space-y-1 overflow-y-auto flex-grow">
             <a href="index.html" class="nav-link block text-base font-medium" data-lang-key="menu_home">Trang chủ</a>
              <div class="mobile-menu-item">
                 <button type="button" aria-expanded="false" class="nav-link w-full flex justify-between items-center text-base mobile-submenu-toggle">
                     <span data-lang-key="menu_about">Giới thiệu</span>
                     <svg class="ml-1 h-5 w-5 transform submenu-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.19 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" /></svg>
                 </button>
                 <div class="mobile-submenu pl-4 space-y-1">
                     <a href="about.html" class="nav-link block" data-lang-key="menu_about_ivs">Về IVS JSC</a>
                     <a href="summercamp.html" class="nav-link block" data-lang-key="menu_summer_camp">Trại hè Quốc tế</a>
                     <a href="hocbong.html" class="nav-link block" data-lang-key="menu_scholarships">Học bổng</a>
                     <a href="hay-noi.html" class="nav-link block" data-lang-key="menu_hay_noi_club">Chương trình "Hãy Nói"</a>
                 </div>
             </div>
              <a href="contact.html" class="nav-link block text-base font-medium" data-lang-key="menu_contact">Liên hệ</a>
         </div>
         <div id="mobile-footer" class="px-4 py-3 border-t flex-shrink-0" style="border-color: var(--mobile-menu-border); background-color: #f3f4f6;">
             <div id="mobile-language-dropdown" class="language-dropdown relative w-full">
                 <button id="mobile-lang-toggle" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle w-full flex justify-between items-center px-3 py-2 rounded-md text-base focus:outline-none">
                     <span id="mobile-current-lang">VN</span>
                     <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                 </button>
                 <div id="mobile-lang-options" class="language-dropdown-content hidden">
                     <button type="button" class="lang-option lang-button block w-full text-left" data-lang="vi">VN</button>
                     <button type="button" class="lang-option lang-button block w-full text-left" data-lang="en">EN</button>
                 </div>
             </div>
         </div>
     </div>

</header>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // --- Elements ---
        const navbar = document.getElementById('navbar');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenuPanel = document.getElementById('mobile-menu-panel');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mobileCloseButton = document.getElementById('mobile-close-button');
        const menuIcon = document.getElementById('icon-menu');
        const closeIcon = document.getElementById('icon-close');

        const desktopLangDropdown = document.getElementById('desktop-language-dropdown');
        const desktopLangToggle = document.getElementById('desktop-lang-toggle');
        const mobileLangDropdown = document.getElementById('mobile-language-dropdown');
        const mobileLangToggle = document.getElementById('mobile-lang-toggle');
        const langButtons = document.querySelectorAll('.lang-button');
        const desktopMenuItems = document.querySelectorAll('#menu-items > li.dropdown-trigger');

        // --- Desktop Dropdown Logic (JS Based) ---
        let leaveTimeout; // Timer for delaying hide

        desktopMenuItems.forEach(item => {
            const submenu = item.querySelector('.submenu');
            if (!submenu) return;

            // Store timeout ID on the element itself
            item.submenuTimeoutId = null;

            item.addEventListener('mouseenter', () => {
                // Clear any pending hide timer for this item
                clearTimeout(item.submenuTimeoutId);
                 // Hide other open submenus immediately
                 desktopMenuItems.forEach(otherItem => {
                     if (otherItem !== item) {
                         const otherSubmenu = otherItem.querySelector('.submenu');
                         if (otherSubmenu) {
                             otherSubmenu.classList.remove('open');
                             otherItem.querySelector('button')?.setAttribute('aria-expanded', 'false');
                         }
                     }
                 });
                // Show this submenu
                submenu.classList.add('open');
                item.querySelector('button')?.setAttribute('aria-expanded', 'true');
            });

            item.addEventListener('mouseleave', () => {
                // Set a timer to hide the submenu
                item.submenuTimeoutId = setTimeout(() => {
                    submenu.classList.remove('open');
                     item.querySelector('button')?.setAttribute('aria-expanded', 'false');
                }, 200); // 200ms delay
            });

             // Keep submenu open if mouse enters the submenu itself
             submenu.addEventListener('mouseenter', () => {
                 clearTimeout(item.submenuTimeoutId); // Cancel hiding timer
             });

             // Hide submenu if mouse leaves the submenu area
             submenu.addEventListener('mouseleave', () => {
                 item.submenuTimeoutId = setTimeout(() => {
                     submenu.classList.remove('open');
                      item.querySelector('button')?.setAttribute('aria-expanded', 'false');
                 }, 200);
             });
        });

         // --- Nested Submenu Logic (Pure CSS for simplicity) ---
         // The nested submenus (.sub-submenu) use pure CSS hover (:hover)
         // via the .sub-submenu-container:hover > .sub-submenu rule in the <style> block.
         // This avoids complex JS for nested levels but might have minor flicker
         // if mouse movement is very fast between nested trigger and panel.


        // --- Mobile Menu Toggle (Keep as before) ---
        function toggleMobileMenu(open) {
            const isOpen = typeof open === 'boolean' ? open : !mobileMenuPanel.classList.contains('translate-x-0');
            if (isOpen) {
                mobileMenuPanel.classList.remove('hidden');
                mobileMenuOverlay.classList.remove('hidden');
                requestAnimationFrame(() => {
                    mobileMenuPanel.classList.remove('translate-x-full');
                    mobileMenuPanel.classList.add('translate-x-0');
                    mobileMenuOverlay.classList.remove('opacity-0');
                    mobileMenuOverlay.classList.add('opacity-100');
                });
            } else {
                mobileMenuPanel.classList.remove('translate-x-0');
                mobileMenuPanel.classList.add('translate-x-full');
                mobileMenuOverlay.classList.remove('opacity-100');
                mobileMenuOverlay.classList.add('opacity-0');
                mobileMenuPanel.addEventListener('transitionend', () => {
                    if (!mobileMenuPanel.classList.contains('translate-x-0')) {
                         mobileMenuPanel.classList.add('hidden');
                         mobileMenuOverlay.classList.add('hidden');
                    }
                }, { once: true });
            }
            if(menuIcon) menuIcon.classList.toggle('hidden', isOpen);
            if(closeIcon) closeIcon.classList.toggle('hidden', !isOpen);
            if(mobileMenuButton) mobileMenuButton.setAttribute('aria-expanded', isOpen.toString());
            document.body.style.overflow = isOpen ? 'hidden' : '';
        }

        if(mobileMenuButton) mobileMenuButton.addEventListener('click', () => toggleMobileMenu());
        if(mobileCloseButton) mobileCloseButton.addEventListener('click', () => toggleMobileMenu(false));
        if(mobileMenuOverlay) mobileMenuOverlay.addEventListener('click', () => toggleMobileMenu(false));

        if(mobileMenuPanel) {
            mobileMenuPanel.querySelectorAll('a').forEach(link => {
                 link.addEventListener('click', (e) => {
                     if (!link.closest('.mobile-submenu-toggle')) {
                         setTimeout(() => toggleMobileMenu(false), 50);
                     }
                 });
             });
        }

        // Mobile Submenu Toggle (Keep as before)
        const mobileSubmenuToggles = document.querySelectorAll('#mobile-menu-panel .mobile-submenu-toggle');
        mobileSubmenuToggles.forEach(button => {
            button.addEventListener('click', function() {
                const parentItem = this.closest('.mobile-menu-item');
                if (!parentItem) return;
                const isOpen = parentItem.classList.toggle('open');
                this.setAttribute('aria-expanded', isOpen.toString());
                const parentList = parentItem.parentNode;
                if (parentList) {
                    Array.from(parentList.children).forEach(sibling => {
                         if (sibling !== parentItem && sibling.classList.contains('mobile-menu-item') && sibling.classList.contains('open')) {
                              sibling.classList.remove('open');
                              const siblingButton = sibling.querySelector('.mobile-submenu-toggle');
                              if(siblingButton) siblingButton.setAttribute('aria-expanded', 'false');
                         }
                    });
                }
            });
        });

        // --- Language Dropdown Logic (Keep as before) ---
        function toggleDropdown(dropdownElement, forceState) {
            if (!dropdownElement) return; // Add check
            const currentlyOpen = dropdownElement.classList.contains('open');
            const open = typeof forceState === 'boolean' ? forceState : !currentlyOpen;
            const toggleButton = dropdownElement.querySelector('.dropdown-toggle');
            dropdownElement.classList.toggle('open', open);
            if (toggleButton) {
                toggleButton.setAttribute('aria-expanded', open.toString());
            }
        }

        if(desktopLangToggle) {
            desktopLangToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleDropdown(desktopLangDropdown);
            });
        }

        if(mobileLangToggle) {
            mobileLangToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                toggleDropdown(mobileLangDropdown);
            });
        }

        langButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.stopPropagation();
                const selectedLang = this.getAttribute('data-lang');
                const desktopCurrentLang = document.getElementById('desktop-current-lang');
                const mobileCurrentLang = document.getElementById('mobile-current-lang');

                if(desktopCurrentLang) desktopCurrentLang.textContent = selectedLang.toUpperCase();
                if(mobileCurrentLang) mobileCurrentLang.textContent = selectedLang.toUpperCase();

                langButtons.forEach(btn => {
                     const isSelected = btn.getAttribute('data-lang') === selectedLang;
                     btn.disabled = isSelected;
                 });
                toggleDropdown(desktopLangDropdown, false);
                toggleDropdown(mobileLangDropdown, false);
                // Add language switching logic here (e.g., call a function)
                // switchLanguage(selectedLang);
                 console.log('Selected language:', selectedLang);
            });
        });

        window.addEventListener('click', function(event) {
             if (desktopLangDropdown && !desktopLangDropdown.contains(event.target)) {
                 toggleDropdown(desktopLangDropdown, false);
             }
             if (mobileMenuPanel && mobileLangDropdown && !mobileMenuPanel.contains(event.target)) {
                  toggleDropdown(mobileLangDropdown, false);
             } else if (mobileLangDropdown && !mobileLangDropdown.contains(event.target)) {
                 toggleDropdown(mobileLangDropdown, false);
             }
        });

        const initialLang = 'vi';
        const desktopCurrentLang = document.getElementById('desktop-current-lang');
        const mobileCurrentLang = document.getElementById('mobile-current-lang');
        if(desktopCurrentLang) desktopCurrentLang.textContent = initialLang.toUpperCase();
        if(mobileCurrentLang) mobileCurrentLang.textContent = initialLang.toUpperCase();
        langButtons.forEach(btn => {
            btn.disabled = btn.getAttribute('data-lang') === initialLang;
        });

        // --- Optional: Shrink Header on Scroll (Keep as before) ---
        let lastScrollTop = 0;
        window.addEventListener('scroll', function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (navbar) {
                if (scrollTop > 50) { navbar.classList.add('shrink'); }
                else { navbar.classList.remove('shrink'); }
            }
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        }, false);

    });
</script>

</body>
</html>
