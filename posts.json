<script>
  // JSON data for featured posts
  const posts = [
    {
      title: "TRáº I HÃˆ QUá»C Táº¾ Táº I PHILIPPINES 2025",
      excerpt: "ðŸŽ‰Tin vui cho cÃ¡c báº­c phá»¥ huynh vÃ  cÃ¡c em há»c sinh! IVS Academy thÃ´ng bÃ¡o vá» chÆ°Æ¡ng trÃ¬nh Há»c bá»•ng Tráº¡i hÃ¨ Quá»‘c táº¿...",
      url: "summercamp.html",
      image: "images/summerbanner.jpg",
    },
    {
      title: "TÆ¯ Váº¤N THá»¦ Tá»¤C THÃ€NH Láº¬P TRUNG TÃ‚M, CÆ  Sá»ž GIÃO Dá»¤C",
      excerpt: "ðŸŽ‰TÆ° váº¥n, há»— trá»£ thá»§ tá»¥c, há»“ sÆ¡ phÃ¡p lÃ½, tÃ i liá»‡u, chÆ°Æ¡ng trÃ¬nh Ä‘Ã o táº¡o, tá»« A tá»›i Z.",
      url: "tuvan.html",
      image: "images/lifeminds.png",
    },
    {
      title: "Há»¢P TÃC Äáº¦U TÆ¯",
      excerpt: "ðŸŽ‰CÆ¡ há»™i bá»©c phÃ¡ cÃ¹ng ngÃ nh giÃ¡o dá»¥c, má»™t tÆ°Æ¡ng lai bá»n vá»¯ng",
      url: "hop-tac-dau-tu.html",
      image: "images/ivs-celestech.jpg",
    },
    {
      title: "TUYá»‚N Dá»¤NG",
      excerpt: "ðŸŽ‰Tin tuyá»ƒn dá»¥ng tá»« IVS JSC",
      url: "career.html",
      image: "images/logo.png",
    },
  ];

  // Render posts dynamically
  const postList = document.getElementById("post-list");
  posts.forEach((post, index) => {
    const postElement = document.createElement("div");
    postElement.classList.add("post-preview");
    postElement.innerHTML = `
      <div class="post-image">
        <img src="${post.image}" alt="${post.title}">
        ${index === 0 ? '<span class="hot-label">HOT</span>' : ""}
      </div>
      <div class="content">
        <h3>${post.title}</h3>
        <p>${post.excerpt}</p>
        <a href="${post.url}" class="view-more">Xem thÃªm</a>
      </div>
    `;
    postList.appendChild(postElement);
  });

  // Carousel navigation for desktop
  const prevButton = document.getElementById("prev-post");
  const nextButton = document.getElementById("next-post");
  let currentIndex = 0;
  const postsPerPage = 3; // Number of posts to show at a time on desktop
  const totalPosts = posts.length;

  function updateCarousel() {
    const offset = currentIndex * (100 / postsPerPage);
    postList.style.transform = `translateX(-${offset}%)`;

    // Disable buttons when at the start or end
    prevButton.disabled = currentIndex === 0;
    nextButton.disabled = currentIndex >= totalPosts - postsPerPage;
  }

  prevButton.addEventListener("click", () => {
    if (currentIndex > 0) {
      currentIndex--;
      updateCarousel();
    }
  });

  nextButton.addEventListener("click", () => {
    if (currentIndex < totalPosts - postsPerPage) {
      currentIndex++;
      updateCarousel();
    }
  });

  // Initial update
  updateCarousel();
</script>