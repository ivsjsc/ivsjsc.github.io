<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="page_title_index">IVS JSC - Giáo dục, Công nghệ, Sức khỏe, Hợp tác Quốc tế</title>
    <meta name="description" content="IVS JSC - Tổ chức tiên phong tại Việt Nam trong lĩnh vực giáo dục (IVS Academy, IVS Kindergarten), EdTech (IVS Celestech), sức khỏe cộng đồng và hợp tác quốc tế." data-lang-key="meta_description_index">
    <meta name="keywords" content="IVS JSC, giáo dục, công nghệ giáo dục, EdTech, STEAM, sức khỏe, hợp tác quốc tế, Đồng Nai, IVS Academy, IVS Celestech, đào tạo ngoại ngữ, kỹ năng sống" data-lang-key="meta_keywords_index">
    <meta property="og:title" content="IVS JSC - Giáo dục, Công nghệ, Sức khỏe, Hợp tác Quốc tế" data-lang-key="og_title_index">
    <meta property="og:description" content="Khám phá các giải pháp toàn diện về đào tạo ngoại ngữ, STEAM, kỹ năng sống, EdTech, chăm sóc sức khỏe và cơ hội hợp tác cùng IVS JSC." data-lang-key="og_description_index">
    <meta property="og:image" content="/images/logo/logo-192.png">
    <meta property="og:url" content="https://ivsacademy.edu.vn/index.html">
    <meta property="og:type" content="website">
    <meta name="author" content="IVS JSC">

    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/images/logo/logo-192.png">
    <link rel="manifest" href="/manifest.json">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"></noscript>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" xintegrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.tailwindcss.com?plugins=typography,forms,aspect-ratio,line-clamp"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#004080', 
                        'primary-dark': '#003366',
                        'secondary': '#ffc107', 
                        'secondary-dark': '#e0a800',
                        'header-orange': '#F97316', 
                        'ivs-neutral-800': '#1f2937',
                        'ivs-neutral-700': '#374151',
                        'ivs-neutral-600': '#4B5563',
                        'ivs-neutral-400':'#9ca3af',
                        'ivs-neutral-300': '#D1D5DB',
                        'ivs-neutral-200': '#e5e7eb',
                        'ivs-neutral-100': '#f3f4f6',
                        'ivs-neutral-50': '#f9fafb',
                        'purple-accent': '#8b5cf6',
                        'warning': '#f59e0b',
                        'blue-50': '#eff6ff',
                        'blue-200': '#bfdbfe',
                        'blue-500': '#3b82f6',
                        'blue-600': '#2563eb', 
                        'blue-700': '#1d4ed8',
                        'blue-800': '#1e40af',
                        'blue-900':'#1e3a8a',
                        'purple-50': '#faf5ff',
                        'purple-500': '#a855f7',
                        'purple-600': '#9333ea',
                        'purple-700': '#7e2d87',
                        'green-100': '#dcfce7',
                        'green-500': '#22c55e',
                        'green-900': '#14532d',
                        'yellow-100': '#fef9c3',
                        'yellow-500': '#eab308',
                        'yellow-900': '#713f12',
                        'red-100': '#fee2e2',
                        'red-500': '#ef4444',
                        'red-900': '#7f1d1d',
                        'indigo-100': '#e0e7ff',
                        'indigo-500': '#6366f1',
                        'indigo-900': '#312e81',
                        'teal-100': '#ccfbf1',
                        'teal-500': '#14b8a6',
                        'teal-900': '#0f766e',
                        'pink-100': '#fce7f3',
                        'pink-500': '#ec4899',
                        'pink-900': '#831843',
                        'orange-700':'#c2410c',
                        'slate-700': '#334155',
                        'slate-800': '#1e293b'
                    }
                }
            },
            plugins: [],
        }
    </script>

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css"> 
    <link rel="stylesheet" href="/dist/output.css">
    <style>
        :root {
            --primary-color: #004080;
            --primary-dark-color: #003366;
            --secondary-color: #ffc107;
            --secondary-dark-color: #e0a800;
            --ivs-neutral-800-color: #1f2937;
            --ivs-neutral-700-color: #374151;
            --ivs-neutral-300-color: #D1D5DB;
            --ivs-neutral-200-color: #e5e7eb;
            --ivs-neutral-50-color: #f9fafb;
        }
        .hero-text-shadow {
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }
        .hero-overlay {
            position: absolute;
            inset: 0;
            background-color: rgba(0, 30, 60, 0.4); 
            z-index: 1;
        }
        .hero-content {
            position: relative;
            z-index: 2;
            padding: 4rem 1rem; 
        }
         .hero-section-banner {
            min-height: 50vh; /* Adjust as needed */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .video-background-section {
            min-height: 40vh; /* Or your desired height */
        }
        .service-card, .testimonial-card, .education-level-card {
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
        }
        .service-card:hover, .testimonial-card:hover, .education-level-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1050;
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s linear 0.3s, opacity 0.3s ease;
        }
        .modal.show {
            visibility: visible;
            opacity: 1;
            transition-delay: 0s;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem;
            text-align: center;
            max-width: 400px;
            width: calc(100% - 2rem);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transform: scale(0.95);
            transition: transform 0.3s ease;
        }
         .dark .modal-content {
            background-color: var(--ivs-neutral-800-color);
        }
        .modal.show .modal-content {
            transform: scale(1);
        }
        .modal-content button {
            margin-top: 1.5rem;
        }
        .button-primary {
            background-color: var(--primary-color);
            color: white;
            padding: 0.65rem 1.25rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: background-color 0.3s ease;
            cursor: pointer;
            border: none;
        }
        .button-primary:hover {
            background-color: var(--primary-dark-color);
        }
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }
        .chatbot-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, background-color 0.3s ease;
        }
        .chatbot-button:hover {
            transform: scale(1.05);
            background-color: var(--primary-dark-color);
        }
        .chatbot-window {
            width: 350px;
            height: 500px;
            background-color: var(--ivs-neutral-50-color);
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            margin-bottom: 15px;
            transform: translateY(10px);
            opacity: 0;
            visibility: hidden;
            transition: transform 0.3s ease, opacity 0.3s ease, visibility 0s linear 0.3s;
        }
        .chatbot-window.open {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
            transition-delay: 0s;
        }
        .chatbot-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            font-size: 1.125rem;
            font-weight: 600;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chatbot-header .close-button {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.25rem;
        }
        .chatbot-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: #ffffff;
            border-bottom: 1px solid var(--ivs-neutral-200-color);
        }
        .dark .chatbot-messages {
            background-color: var(--ivs-neutral-700-color);
            border-bottom-color: var(--ivs-neutral-600-color);
        }
        .message {
            margin-bottom: 0.75rem;
            padding: 0.6rem 1rem;
            border-radius: 10px;
            max-width: 80%;
            word-wrap: break-word;
            line-height: 1.5;
        }
        .message.user {
            background-color: theme('colors.blue-200');
            color: theme('colors.ivs-neutral-800');
            align-self: flex-end;
            margin-left: auto;
        }
        .dark .message.user {
            background-color: theme('colors.blue-500');
            color: white;
        }
        .message.bot {
            background-color: theme('colors.ivs-neutral-200');
            color: theme('colors.ivs-neutral-800');
            align-self: flex-start;
            margin-right: auto;
        }
         .dark .message.bot {
            background-color: theme('colors.ivs-neutral-600');
            color: theme('colors.ivs-neutral-100');
        }
        .chatbot-input-area {
            display: flex;
            padding: 1rem;
            background-color: var(--ivs-neutral-50-color);
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
        }
         .dark .chatbot-input-area {
             background-color: var(--ivs-neutral-700-color);
         }
        .chatbot-input-area input {
            flex-grow: 1;
            padding: 0.75rem;
            border: 1px solid var(--ivs-neutral-300-color);
            border-radius: 8px;
            margin-right: 0.75rem;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.2s ease;
        }
        .dark .chatbot-input-area input {
            background-color: var(--ivs-neutral-600-color);
            border-color: var(--ivs-neutral-500-color);
            color: var(--ivs-neutral-100-color);
        }
        .chatbot-input-area input:focus {
            border-color: var(--primary-color);
        }
        .chatbot-input-area button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.75rem 1.25rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .chatbot-input-area button:hover {
            background-color: var(--primary-dark-color);
        }
        .chatbot-input-area button:disabled {
            background-color: theme('colors.ivs-neutral-400');
            cursor: not-allowed;
        }
        @media (max-width: 768px) {
            .chatbot-container {
                bottom: 15px;
                right: 15px;
            }
            .chatbot-button {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            .chatbot-window {
                width: calc(100vw - 30px);
                height: calc(100vh - 80px);
                max-width: 400px;
                max-height: 600px;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body class="bg-ivs-neutral-100 dark:bg-ivs-neutral-800 text-ivs-neutral-800 dark:text-ivs-neutral-200 antialiased font-sans" id="page-index">
    
    <div id="header-placeholder" data-loading-text="Đang tải menu..."></div>

    <div id="loading-spinner" class="fixed inset-0 flex items-center justify-center bg-gray-200/75 dark:bg-gray-900/75 z-[1100] hidden">
        <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary"></div>
    </div>

    <div id="custom-modal" class="modal">
        <div class="modal-content">
            <p id="modal-message" class="text-lg font-medium text-ivs-neutral-800 dark:text-ivs-neutral-100"></p>
            <button id="modal-close-button" class="button-primary">Đóng</button>
        </div>
    </div>

    <main class="container mx-auto px-4 py-8">
        <section 
            class="hero-section-banner relative text-center overflow-hidden shadow-xl bg-ivs-neutral-700 dark:bg-ivs-neutral-800 rounded-lg"> 
            <div class="absolute inset-0 bg-cover bg-center opacity-20" style="background-image: url('/images/logo/webbanner.png');" onerror="this.style.backgroundImage='url(https://placehold.co/1920x600/004080/ffffff?text=IVS+Banner)'; this.classList.add('bg-slate-700');"></div>
            <div class="hero-overlay"></div>
            <div class="hero-content text-white">
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-4 hero-text-shadow" data-lang-key="hero_title_index_main">IVS JSC</h1>
                <p class="text-md md:text-lg mb-8 hero-text-shadow italic" data-lang-key="hero_slogan_index">"Nâng tầm Tri thức - Kiến tạo Tương lai"</p>
                <div>
                    <a href="news-archive.html" class="bg-header-orange hover:bg-orange-700 text-white font-semibold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md" data-lang-key="hero_button_about_us">IVS News - Tin tức tổng hợp </a>
                </div>
            </div>
        </section>

        <section class="py-8 bg-primary text-white text-center rounded-lg shadow-lg my-8 mx-auto max-w-7xl" data-aos="fade-up">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-bold mb-4" data-lang-key="teacher_hub_cta_title">Bạn là giáo viên? Đăng ký ngay!</h2>
                <a href="ivs-global-teacher-hub.html" class="inline-block bg-secondary hover:bg-secondary-dark text-primary-dark font-bold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md" data-lang-key="teacher_hub_cta_button">Ứng tuyển tại đây</a>
            </div>
        </section>
        
        <section class="py-16 bg-ivs-neutral-800 dark:bg-slate-800 relative text-white video-background-section rounded-lg shadow-xl my-8 md:my-12 mx-auto max-w-7xl overflow-hidden" data-aos="fade-up">
            <div class="video-background-container">
            <video autoplay muted loop playsinline poster="/images/logo/webbanner_placeholder_dark.png" style="filter: brightness(0.8);" 
                    onerror="this.style.backgroundImage='url(/images/logo/webbannermo.png)'; this.poster='https://placehold.co/1280x720/000000/ffffff?text=Video+Error';"> 
                <source src="/videos/ivs_background_video.mp4" type="video/mp4">
                Trình duyệt của bạn không hỗ trợ thẻ video.
            </video>
            </div>
            <div class="video-overlay" style="background-color: rgba(0, 20, 40, 0.4);"></div>
            <div class="container mx-auto px-6 md:px-12 text-center section-content-on-video">
                <h2 class="text-3xl font-bold mb-6" data-lang-key="index_section_title_our_core">IVS Academy</h2>
                <a href="about.html" class="inline-block bg-primary hover:bg-primary-dark text-white font-semibold py-3 px-8 rounded-lg text-md transition duration-300 ease-in-out transform hover:scale-105 shadow-md" data-lang-key="button_learn_more_about_us">Tìm hiểu về Chúng tôi</a>
            </div>
        </section>

        <section class="py-16 md:py-20 bg-ivs-neutral-50 dark:bg-ivs-neutral-800/30 rounded-lg my-8" data-aos="fade-up">
            <div class="container mx-auto px-4">
                <h2 class="text-center text-3xl font-bold text-ivs-neutral-800 dark:text-ivs-neutral-100 mb-12" data-lang-key="index_section_title_key_areas_updated">Lĩnh vực Hoạt động Chính</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                    <div class="service-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center dark:bg-slate-800 dark:border-slate-700" data-aos="zoom-in-up" data-aos-delay="100">
                        <div class="bg-blue-100 dark:bg-blue-900/50 p-4 rounded-full mb-6">
                            <i class="fas fa-graduation-cap fa-3x text-blue-500 dark:text-blue-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-2xl font-semibold text-ivs-neutral-800 dark:text-ivs-neutral-100 mb-3" data-lang-key="service_title_affiliated_education">Giáo dục Liên kết & Phát triển Chương trình</h3>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-400 text-sm mb-6 flex-grow" data-lang-key="service_desc_affiliated_education">Cung cấp các chương trình đào tạo liên kết đa dạng, phát triển học liệu và ứng dụng giải pháp EdTech tiên tiến cho mọi cấp học.</p>
                        <a href="education.html" class="mt-auto bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-6 rounded-md transition-colors" data-lang-key="button_explore_education_programs">Khám phá Giáo dục</a>
                    </div>
                    <div class="service-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center dark:bg-slate-800 dark:border-slate-700" data-aos="zoom-in-up" data-aos-delay="200">
                        <div class="bg-green-100 dark:bg-green-900/50 p-4 rounded-full mb-6">
                            <i class="fas fa-briefcase fa-3x text-green-500 dark:text-green-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-2xl font-semibold text-ivs-neutral-800 dark:text-ivs-neutral-100 mb-3" data-lang-key="service_title_business_consulting">Tư vấn Quản trị & Giải pháp Doanh nghiệp</h3>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-400 text-sm mb-6 flex-grow" data-lang-key="service_desc_business_consulting">Giải pháp toàn diện cho doanh nghiệp: từ thủ tục hành chính, thuế, website, thiết kế học liệu, đến các dịch vụ hỗ trợ vận hành chuyên nghiệp.</p>
                        <a href="solutions.html" class="mt-auto bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-6 rounded-md transition-colors" data-lang-key="button_explore_business_services">Dịch vụ Doanh nghiệp</a>
                    </div>
                    <div class="service-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center dark:bg-slate-800 dark:border-slate-700" data-aos="zoom-in-up" data-aos-delay="300">
                        <div class="bg-yellow-100 dark:bg-yellow-900/50 p-4 rounded-full mb-6">
                            <i class="fas fa-globe-americas fa-3x text-yellow-500 dark:text-yellow-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-2xl font-semibold text-ivs-neutral-800 dark:text-ivs-neutral-100 mb-3" data-lang-key="service_title_international_cooperation">Liên kết Quốc tế & Hội nhập Toàn cầu</h3>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-400 text-sm mb-6 flex-grow" data-lang-key="service_desc_international_cooperation">Du học các cấp đến mọi Châu Lục, Học bổng Du học, Trao đổi học sinh - Sinh viên. Cộng đồng Hỗ trợ sinh viên.</p>
                        <a href="/Pages/foreign-teacher-services.html" class="mt-auto bg-yellow-500 hover:bg-amber-600 text-white font-medium py-2 px-6 rounded-md transition-colors" data-lang-key="button_explore_international_coop">Hợp tác Quốc tế</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 md:py-20 bg-white dark:bg-ivs-neutral-900 rounded-lg my-8" data-aos="fade-up" aria-labelledby="legal-consulting-section">
            <div class="container mx-auto px-4">
                <h2 id="legal-consulting-section" class="text-center text-3xl font-bold text-ivs-neutral-800 dark:text-ivs-neutral-100 mb-12" data-lang-key="index_featured_legal_title">Dịch vụ Nổi bật: Tư vấn Pháp lý Chuyên sâu</h2>
                <div class="grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-8 max-w-4xl mx-auto">
                    <div class="service-card bg-ivs-neutral-50 p-8 rounded-xl shadow-lg flex flex-col items-center text-center dark:bg-slate-800 dark:border-slate-700" data-aos="zoom-in-up" data-aos-delay="100">
                        <div class="bg-blue-100 dark:bg-blue-900/50 p-4 rounded-full mb-6">
                            <i class="fas fa-gavel fa-3x text-blue-500 dark:text-blue-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-2xl font-semibold text-ivs-neutral-800 dark:text-ivs-neutral-100 mb-3" data-lang-key="legal_consulting_hero_title">Tư Vấn Pháp Lý Chuyên Sâu</h3>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-400 text-sm mb-6 flex-grow" data-lang-key="index_featured_legal_desc">IVS JSC cung cấp dịch vụ tư vấn pháp lý chuyên sâu, đồng hành cùng cá nhân và doanh nghiệp trong việc hiểu rõ, phòng ngừa rủi ro và đưa ra các quyết định pháp lý chiến lược.</p>
                        <a href="/Pages/legal_consulting.html" class="mt-auto bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-6 rounded-md transition-colors" data-lang-key="index_featured_legal_button">Tìm hiểu Dịch vụ Pháp lý</a>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="py-16 md:py-20 bg-white dark:bg-ivs-neutral-900 rounded-lg my-8" data-aos="fade-up" aria-labelledby="education-programs-section">
            <div class="container mx-auto px-4">
                <h2 id="education-programs-section" class="text-center text-3xl font-bold text-ivs-neutral-800 dark:text-ivs-neutral-100 mb-12" data-lang-key="index_section_title_education_programs_detail">Chương Trình Đào Tạo Chi Tiết</h2>
                <div id="education-programs-container" class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6 max-w-5xl mx-auto">
                    <a href="/Pages/lkmamnon.html" class="education-level-card group block bg-ivs-neutral-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="100">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-blue-100 dark:bg-blue-900/50 group-hover:bg-blue-200 dark:group-hover:bg-blue-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-child fa-3x text-blue-500 dark:text-blue-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300" data-lang-key="small_button_preschool">Mầm non</h3>
                    </a>
                    <a href="/Pages/lktieuhoc.html" class="education-level-card group block bg-ivs-neutral-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="150">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-green-100 dark:bg-green-900/50 group-hover:bg-green-200 dark:group-hover:bg-green-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-school fa-3x text-green-500 dark:text-green-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors duration-300" data-lang-key="small_button_primary">Tiểu học</h3>
                    </a>
                    <a href="/Pages/lkthcsthpt.html" class="education-level-card group block bg-ivs-neutral-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="200">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-purple-100 dark:bg-purple-900/50 group-hover:bg-purple-200 dark:group-hover:bg-purple-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-user-graduate fa-3x text-purple-500 dark:text-purple-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors duration-300" data-lang-key="small_button_secondary">THCS/THPT</h3>
                    </a>
                    <a href="/Pages/ivslanguages.html" class="education-level-card group block bg-ivs-neutral-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="250">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-100 dark:bg-red-900/50 group-hover:bg-red-200 dark:group-hover:bg-red-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-language fa-3x text-red-500 dark:text-red-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 group-hover:text-red-600 dark:group-hover:text-red-400 transition-colors duration-300" data-lang-key="small_button_language_center">TT Anh Ngữ</h3>
                    </a>
                    <a href="/Pages/ivslifeminds.html" class="education-level-card group block bg-ivs-neutral-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="300">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-yellow-100 dark:bg-yellow-900/50 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-brain fa-3x text-yellow-500 dark:text-yellow-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 group-hover:text-yellow-600 dark:group-hover:text-yellow-400 transition-colors duration-300" data-lang-key="small_button_lifeskills">Kỹ năng sống</h3>
                    </a>
                    <a href="/Pages/steambyivs.html" class="education-level-card group block bg-ivs-neutral-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="350">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-indigo-100 dark:bg-indigo-900/50 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-rocket fa-3x text-indigo-500 dark:text-indigo-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300" data-lang-key="small_button_steam">STEAM</h3>
                    </a>
                    <a href="/Blogs/talktask-ivsuniversitieshcmc.html" class="education-level-card group block bg-ivs-neutral-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="400">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-teal-100 dark:bg-teal-900/50 group-hover:bg-teal-200 dark:group-hover:bg-teal-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-globe fa-3x text-teal-500 dark:text-teal-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors duration-300" data-lang-key="small_button_international">Sinh viên Quốc tế</h3>
                    </a>
                    <a href="/Blogs/letstalkdongnai.html" class="education-level-card group block bg-ivs-neutral-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="450">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-pink-100 dark:bg-pink-900/50 group-hover:bg-pink-200 dark:group-hover:bg-pink-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-comments fa-3x text-pink-500 dark:text-pink-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 group-hover:text-pink-600 dark:group-hover:text-pink-400 transition-colors duration-300" data-lang-key="small_button_consulting">Hãy Nói - Tiếng Nói Tuổi Trẻ</h3>
                    </a>
                </div>
            </div>
        </section>
        
        <section class="py-16 bg-ivs-neutral-50 dark:bg-ivs-neutral-800/30 rounded-lg my-8" data-aos="fade-up" aria-labelledby="why-choose-ivs-section"> 
            <div class="container mx-auto px-6 md:px-12">
                <h2 id="why-choose-ivs-section" class="text-center text-3xl font-bold text-ivs-neutral-800 dark:text-ivs-neutral-100 mb-12" data-lang-key="index_section_title_why_us">Tại Sao Chọn IVS JSC?</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
                    <div data-aos="fade-right" data-aos-delay="100">
                        <div class="bg-header-orange text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg">
                            <i class="fas fa-award fa-2x" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 mb-2" data-lang-key="why_us_quality">Chất lượng Vượt trội</h3>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-400 text-sm" data-lang-key="why_us_quality_desc">Đội ngũ chuyên gia giàu kinh nghiệm, chương trình chuẩn quốc tế.</p>
                    </div>
                    <div data-aos="fade-right" data-aos-delay="200">
                        <div class="bg-secondary text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg">
                            <i class="fas fa-cogs fa-2x" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 mb-2" data-lang-key="why_us_tech">Giải pháp Toàn diện</h3>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-400 text-sm" data-lang-key="why_us_tech_desc_updated">Từ giáo dục, EdTech đến tư vấn và hỗ trợ vận hành doanh nghiệp.</p>
                    </div>
                    <div data-aos="fade-left" data-aos-delay="300">
                        <div class="bg-primary text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg">
                            <i class="fas fa-lightbulb fa-2x" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 mb-2" data-lang-key="why_us_env">Môi trường Sáng tạo</h3>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-400 text-sm" data-lang-key="why_us_env_desc">Khuyến khích tư duy đột phá, bình đẳng và tôn trọng sự khác biệt.</p>
                    </div>
                    <div data-aos="fade-left" data-aos-delay="400">
                        <div class="bg-warning text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg">
                            <i class="fas fa-handshake fa-2x" aria-hidden="true"></i> 
                        </div>
                        <h3 class="text-xl font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200 mb-2" data-lang-key="why_us_partnership">Đối tác Tin cậy</h3>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-400 text-sm" data-lang-key="why_us_partnership_desc">Đồng hành cùng phát triển, mang lại giá trị bền vững.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 bg-white dark:bg-ivs-neutral-900 rounded-lg my-8" data-aos="fade-up" aria-labelledby="news-events-section">
            <div class="container mx-auto px-4">
                <h2 id="news-events-section" class="text-3xl font-bold text-center text-ivs-neutral-800 dark:text-ivs-neutral-100 mb-8" data-lang-key="index_news_title">Tin Tức & Sự Kiện</h2>
                <div id="news-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <p class="text-ivs-neutral-500 dark:text-ivs-neutral-400 col-span-full text-center" data-lang-key="loading_news">Đang tải tin tức...</p>
                </div>
                <div class="text-center mt-10">
                    <a href="news-archive.html" class="bg-ivs-neutral-700 hover:bg-ivs-neutral-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white font-semibold py-3 px-8 rounded-lg text-md transition duration-300 ease-in-out" data-lang-key="button_all_news">Xem tất cả tin tức</a>
                </div>
            </div>
        </section>
        
        <section class="py-12 md:py-16 bg-ivs-neutral-100 dark:bg-ivs-neutral-800/50 section-spacing rounded-lg my-8" data-aos="fade-up" aria-labelledby="testimonials-section">
            <div class="container mx-auto px-4 max-w-7xl">
                <h2 id="testimonials-section" class="text-2xl md:text-3xl font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-100 mb-8 text-center" data-aos="fade-up" data-lang-key="webdesign_testimonials_heading">Khách hàng & Đối tác nói gì về IVS JSC</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-ivs-neutral-700 text-ivs-neutral-900 dark:text-white flex flex-col" data-aos="zoom-in" data-aos-delay="100">
                        <i class="fas fa-quote-left text-3xl text-blue-500 dark:text-blue-400 mb-4" aria-hidden="true"></i>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-300 italic mb-4 flex-grow" data-lang-key="testimonial_1_text"> Phụ huynh: "Chương trình học tại IVS Academy linh động và thực tế. Có thể tinh chỉnh theo bất cứ nhu càu học tập, giảng dạy nào, nhờ Đội ngũ giảng viên cực kỳ chất lượng, và tư duy nhạy bén trong giáo dục. Con trai chúng Là con lai lần đầu tiên về Việt Nam, nhưng phải theo học chương trình bên đó và IVS kết hợp với chương trình đào tạo của trường mà cậu bé lớp 1 này đang theo học ở Mỹ để dạy bé trong vòng 3 tháng, điều đó thật tuyệt vời."</p>
                        <div class="mt-auto pt-4 border-t border-ivs-neutral-200 dark:border-ivs-neutral-700">
                            <p class="font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200" data-lang-key="testimonial_1_name">Bé Thomas - Quốc tịch Mỹ</p>
                            <p class="text-sm text-ivs-neutral-500 dark:text-ivs-neutral-400" data-lang-key="testimonial_1_title">Học viên đặc biệt của IVS</p>
                        </div>
                    </div>
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-ivs-neutral-700 flex flex-col" data-aos="zoom-in" data-aos-delay="200">
                        <i class="fas fa-quote-left text-3xl text-green-500 dark:text-green-400 mb-4" aria-hidden="true"></i>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-300 italic mb-4 flex-grow" data-lang-key="testimonial_2_text">"Nhờ giải pháp EdTech của IVS Celestech, trường chúng tôi đã cải thiện đáng kể việc quản lý học sinh và nâng cao chất lượng giảng dạy. Đây thực sự là một bước tiến lớn trong công tác giáo dục."</p>
                        <div class="mt-auto pt-4 border-t border-ivs-neutral-200 dark:border-ivs-neutral-700">
                            <p class="font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200" data-lang-key="testimonial_2_name">Nguyễn Thị Lan</p>
                            <p class="text-sm text-ivs-neutral-500 dark:text-ivs-neutral-400" data-lang-key="testimonial_2_title">Hiệu trưởng Trường Tiểu học Ánh Dương</p>
                        </div>
                    </div>
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-ivs-neutral-700 flex flex-col" data-aos="zoom-in" data-aos-delay="300">
                        <i class="fas fa-quote-left text-3xl text-purple-500 dark:text-purple-400 mb-4" aria-hidden="true"></i>
                        <p class="text-ivs-neutral-600 dark:text-ivs-neutral-300 italic mb-4 flex-grow" data-lang-key="testimonial_3_text">"Hợp tác với IVS JSC trong dự án giáo dục quốc tế đã giúp chúng tôi tiếp cận được nhiều cơ hội mới và đạt được những thành tựu đáng kể. Đội ngũ làm việc rất chuyên nghiệp và tận tâm."</p>
                        <div class="mt-auto pt-4 border-t border-ivs-neutral-200 dark:border-ivs-neutral-700">
                            <p class="font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200" data-lang-key="testimonial_3_name">Lê Văn Hùng</p>
                            <p class="text-sm text-ivs-neutral-500 dark:text-ivs-neutral-400" data-lang-key="testimonial_3_title">Trưởng phòng Hợp tác Quốc tế, Công ty Giáo dục Việt</p>
                        </div>
                    </div>
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-ivs-neutral-700 flex flex-col" data-aos="zoom-in" data-aos-delay="400">
                        <i class="fas fa-quote-left text-3xl text-orange-500 dark:text-orange-400 mb-4" aria-hidden="true"></i>
                        <p class="text-lg text-ivs-neutral-700 dark:text-ivs-neutral-300 mb-4 flex-grow" data-lang-key="webdesign_testimonial1_text">"IVS Celestech đã vượt mong đợi của chúng tôi với một website chuyên nghiệp, hiện đại và tối ưu SEO. Rất hài lòng với dịch vụ!"</p>
                        <div class="mt-auto pt-4 border-t border-ivs-neutral-200 dark:border-ivs-neutral-700">
                               <p class="font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200" data-lang-key="webdesign_testimonial1_author">- Đại diện Công ty TNHH MTV ST</p>
                        </div>
                    </div>
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-ivs-neutral-700 flex flex-col" data-aos="zoom-in" data-aos-delay="500">
                        <i class="fas fa-quote-left text-3xl text-teal-500 dark:text-teal-400 mb-4" aria-hidden="true"></i>
                        <p class="text-lg text-ivs-neutral-700 dark:text-ivs-neutral-300 mb-4 flex-grow" data-lang-key="webdesign_testimonial2_text">"The KhaDock.com website is optimized for UI and SEO, and the design was delivered extremely fast. Very professional. I will recommend IVS to my clients and partners in the US."</p>
                           <div class="mt-auto pt-4 border-t border-ivs-neutral-200 dark:border-ivs-neutral-700">
                                <p class="font-semibold text-ivs-neutral-700 dark:text-ivs-neutral-200" data-lang-key="webdesign_testimonial2_author">- Mr Kha - Founder & Director of KhaDock - Florida, USA.</p>
                           </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="py-20 bg-primary dark:bg-blue-700 text-white rounded-lg my-8" data-aos="zoom-in" aria-labelledby="cta-section">
            <div class="container mx-auto px-6 text-center">
                <h2 id="cta-section" class="text-3xl md:text-4xl font-bold mb-6" data-lang-key="cta_main_title">Sẵn sàng Nâng tầm Tri thức & Kiến tạo Tương lai?</h2>
                <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto" data-lang-key="cta_main_subtitle">Hãy kết nối với IVS JSC ngay hôm nay để khám phá các giải pháp giáo dục và công nghệ hàng đầu, cùng những cơ hội hợp tác phát triển bền vững.</p>
                <div class="space-y-4 md:space-y-0 md:space-x-4">
                    <a href="contact.html?action=consult" class="inline-block bg-white text-primary hover:bg-ivs-neutral-100 dark:text-blue-600 dark:hover:bg-ivs-neutral-200 font-bold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md" data-lang-key="cta_button_consult">Đăng ký Tư vấn</a>
                    <a href="contact.html" class="inline-block border-2 border-white text-white hover:bg-white hover:text-primary dark:hover:text-blue-600 font-bold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105" data-lang-key="cta_button_contact">Liên hệ Hợp tác</a>
                </div>
            </div>
        </section>
    </main>

    <div id="fab-container-placeholder"></div>
    <div id="footer-placeholder" data-loading-text="Đang tải chân trang..."></div>
    
    <button id="scrollToTopBtn" class="hidden fixed bottom-5 right-5 z-[1040] items-center justify-center w-10 h-10 md:w-12 md:h-12 rounded-full bg-ivs-neutral-700 text-white shadow-lg hover:bg-ivs-neutral-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-ivs-neutral-500 focus:ring-offset-2 dark:bg-ivs-neutral-600 dark:hover:bg-ivs-neutral-500" aria-label="Scroll to top">
        <i class="fas fa-arrow-up text-lg md:text-xl" aria-hidden="true"></i>
    </button>

    <div class="chatbot-container">
        <div id="chatbot-window" class="chatbot-window">
            <div class="chatbot-header">
                <span data-lang-key="chatbot_title">IVS AI Assistant</span>
                <button id="chatbot-close-button" class="close-button" aria-label="Đóng chatbot">&times;</button>
            </div>
            <div id="chatbot-messages" class="chatbot-messages flex flex-col space-y-3">
                <div class="message bot" data-lang-key="chatbot_welcome">Welcome to IVS JSC! How can I help you today?</div>
            </div>
            <div class="chatbot-input-area">
                <input type="text" id="chatbot-input" placeholder="Nhập tin nhắn..." data-lang-key="chatbot_placeholder">
                <button id="chatbot-send-button" aria-label="Gửi tin nhắn"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
        <button id="chatbot-open-button" class="chatbot-button" aria-label="Mở chatbot">
            <i class="fas fa-robot"></i>
        </button>
    </div>

    <script src="/js/language.js"></script>
    <script src="/js/loadComponents.js"></script>
    <script src="/js/script.js"></script>
    <script src="/js/posts-loader.js"></script>
    <script src="/js/chatbot.js"></script> 
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        
        let app;
        let auth;
        let isAuthReady = false;
        let userId = 'Đang tải...';

        const loadingSpinner = document.getElementById('loading-spinner');
        const customModal = document.getElementById('custom-modal');
        const modalMessage = document.getElementById('modal-message');
        const modalCloseButton = document.getElementById('modal-close-button');

        function showModal(message, isError = true) {
            if (modalMessage) {
                 modalMessage.innerHTML = message;
                 if(isError) modalMessage.classList.add('text-red-600', 'dark:text-red-400');
                 else modalMessage.classList.remove('text-red-600', 'dark:text-red-400');
            }
            if (customModal) customModal.classList.add('show');
        }

        function hideModal() {
            if (customModal) customModal.classList.remove('show');
        }

        if (modalCloseButton) modalCloseButton.addEventListener('click', hideModal);

        function showLoadingSpinner() {
            if (loadingSpinner) loadingSpinner.classList.remove('hidden');
        }

        function hideLoadingSpinner() {
            if (loadingSpinner) loadingSpinner.classList.add('hidden');
        }
        
        window.onload = async function() {
            showLoadingSpinner();
            let firebaseConfigObject = {};
            let parsedSuccessfully = false;

            if (typeof __firebase_config !== 'undefined' && __firebase_config !== null && __firebase_config.trim() !== '') {
                try {
                    firebaseConfigObject = JSON.parse(__firebase_config);
                    parsedSuccessfully = true;
                } catch (e) {
                    console.error("Lỗi phân tích cấu hình Firebase:", e);
                    showModal("Cấu hình Firebase không hợp lệ. Vui lòng liên hệ bộ phận hỗ trợ.");
                    hideLoadingSpinner();
                    finalizePageLoad();
                    return;
                }
            } else {
                 console.warn("Biến cấu hình Firebase (__firebase_config) không được cung cấp hoặc trống.");
            }

            if (!parsedSuccessfully || !firebaseConfigObject.apiKey || !firebaseConfigObject.authDomain || !firebaseConfigObject.projectId) {
                console.error("Cấu hình Firebase bị thiếu các trường quan trọng (apiKey, authDomain, projectId) hoặc không hợp lệ.");
                showModal("Lỗi cấu hình hệ thống Firebase. Vui lòng thử lại sau hoặc liên hệ bộ phận hỗ trợ. (Thiếu trường quan trọng)");
                hideLoadingSpinner();
                finalizePageLoad();
                return; 
            }

            try {
                app = initializeApp(firebaseConfigObject);
                auth = getAuth(app);
                
                const currentInitialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

                if (currentInitialAuthToken) {
                    try {
                        await signInWithCustomToken(auth, currentInitialAuthToken);
                    } catch (error) {
                        console.warn("Đăng nhập bằng custom token thất bại, thử đăng nhập ẩn danh:", error);
                        await signInAnonymously(auth);
                    }
                } else {
                    await signInAnonymously(auth);
                }

                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        console.log("User authenticated with UID:", userId);
                        isAuthReady = true;
                    } else {
                        userId = 'N/A (chưa đăng nhập)';
                        isAuthReady = false;
                        console.warn("Người dùng chưa được xác thực.");
                    }
                    hideLoadingSpinner();
                    finalizePageLoad();
                });

            } catch (error) {
                console.error("Lỗi khởi tạo Firebase hoặc xác thực:", error);
                showModal("Không thể khởi tạo ứng dụng Firebase. Vui lòng kiểm tra kết nối mạng và cấu hình.");
                hideLoadingSpinner();
                finalizePageLoad();
            }
        };

        function finalizePageLoad() {
            AOS.init({
                duration: 800,
                once: true,
                offset: 50,
            });
            initializeScrollToTop();
        }

        function initializeScrollToTop(){
            const scrollToTopBtn = document.getElementById('scrollToTopBtn');
            if (scrollToTopBtn) {
                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 200) {
                        scrollToTopBtn.classList.remove('hidden');
                        scrollToTopBtn.classList.add('flex');
                    } else {
                        scrollToTopBtn.classList.remove('flex');
                        scrollToTopBtn.classList.add('hidden');
                    }
                }, { passive: true });

                scrollToTopBtn.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                if (window.pageYOffset <= 200) {
                    scrollToTopBtn.classList.add('hidden');
                }
            }
        }
    </script>
</body>
</html>
