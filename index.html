<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="page_title_index">IVS JSC - Giáo dục, Công nghệ, Sức khỏe, Hợp tác Quốc tế</title>
    <meta name="description" content="IVS JSC - Tổ chức tiên phong tại Việt Nam trong lĩnh vực giáo dục (IVS Academy, IVS Kindergarten), EdTech (IVS Celestech), sức khỏe cộng đồng và hợp tác quốc tế." data-lang-key="meta_description_index">
    <meta name="keywords" content="IVS JSC, giáo dục, công nghệ giáo dục, EdTech, STEAM, sức khỏe, hợp tác quốc tế, Đồng Nai, IVS Academy, IVS Celestech, đào tạo ngoại ngữ, kỹ năng sống, IVS Games" data-lang-key="meta_keywords_index">
    <meta property="og:title" content="IVS JSC - Giáo dục, Công nghệ, Sức khỏe, Hợp tác Quốc tế" data-lang-key="og_title_index">
    <meta property="og:description" content="Khám phá các giải pháp toàn diện về đào tạo ngoại ngữ, STEAM, kỹ năng sống, EdTech, chăm sóc sức khỏe, trò chơi giáo dục và cơ hội hợp tác cùng IVS JSC." data-lang-key="og_description_index">
    <meta property="og:image" content="/images/logo/logo-192.png">
    <meta property="og:url" content="https://ivsacademy.edu.vn/index.html">
    <meta property="og:type" content="website">
    <meta name="author" content="IVS JSC">

    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/images/logo/logo-192.png">
    <link rel="manifest" href="/manifest.json">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"></noscript>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" xintegrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.tailwindcss.com?plugins=typography,forms,aspect-ratio,line-clamp"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#004080', 
                        'primary-dark': '#003366',
                        'secondary': '#ffc107', 
                        'secondary-dark': '#e0a800',
                        'header-orange': '#F97316', 
                        'ivs-neutral-800': '#1f2937',
                        'ivs-neutral-700': '#374151',
                        'ivs-neutral-600': '#4B5563',
                        'ivs-neutral-300': '#D1D5DB',
                        'ivs-neutral-200': '#e5e7eb',
                        'ivs-neutral-100': '#f3f4f6',
                        'ivs-neutral-50': '#f9fafb',
                        'purple-accent': '#8b5cf6',
                        'warning': '#f59e0b',
                        'blue-50': '#eff6ff',
                        'blue-200': '#bfdbfe',
                        'blue-500': '#3b82f6',
                        'blue-600': '#2563eb', 
                        'blue-700': '#1d4ed8',
                        'blue-800': '#1e40af',
                        'purple-50': '#faf5ff',
                        'purple-500': '#a855f7',
                        'purple-600': '#9333ea',
                        'purple-700': '#7e2d87',
                        'emerald-50': '#ecfdf5',
                        'emerald-200': '#a7f3d0',
                        'emerald-500': '#10b981',
                        'emerald-600': '#059669',
                        'amber-200': '#fde68a',
                        'amber-500': '#f59e0b',
                        'orange-200': '#fed7aa',
                        'orange-500': '#f97316',
                        'teal-600': '#0d9488',
                        'indigo-600': '#4f46e5',
                        'indigo-700': '#4338ca',
                        'pink-500': '#ec4899'
                    }
                }
            },
            plugins: [],
        }
    </script>

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css"> 
    <link rel="stylesheet" href="/dist/output.css">
    <style>
        :root {
            --primary-color: #004080;
            --primary-dark-color: #003366;
            --ivs-neutral-800-color: #1f2937;
            --ivs-neutral-700-color: #374151;
            --ivs-neutral-300-color: #D1D5DB;
            --ivs-neutral-200-color: #e5e7eb;
            --ivs-neutral-50-color: #f9fafb;
        }
        main > .container { /* This targets only the direct .container child of main to avoid conflicts with Tailwind's .container */
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            /* max-width: 800px; /* Consider removing if using Tailwind's container for layout control */
            width: 100%;
            text-align: center;
        }
        .button-primary {
            background-color: var(--primary-color);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: background-color 0.3s ease;
            cursor: pointer;
            border: none;
        }
        .button-primary:hover {
            background-color: var(--primary-dark-color);
        }
        .button-secondary {
            background-color: var(--ivs-neutral-700-color);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: background-color 0.3s ease;
            cursor: pointer;
            border: none;
        }
        .button-secondary:hover {
            background-color: var(--ivs-neutral-800-color);
        }
        .input-field {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid var(--ivs-neutral-300-color);
            border-radius: 0.5rem;
            font-size: 1rem;
        }
        .textarea-field {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: 1px solid var(--ivs-neutral-300-color);
            border-radius: 0.5rem;
            font-size: 1rem;
            min-height: 100px;
            resize: vertical;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s, opacity 0.3s;
        }
        .modal.show {
            visibility: visible;
            opacity: 1;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        .modal-content button {
            margin-top: 1rem;
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            background-color: var(--ivs-neutral-200-color);
            color: var(--ivs-neutral-800-color);
            transition: background-color 0.3s ease;
        }
        .tab-button.active {
            background-color: var(--primary-color);
            color: white;
        }
        .teacher-card {
            background-color: var(--ivs-neutral-50-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: left;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        .teacher-card img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 1rem;
            border: 3px solid var(--primary-color);
        }

        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .chatbot-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #004080; 
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .chatbot-button:hover {
            transform: scale(1.05);
            background-color: #003366; 
        }

        .chatbot-window {
            width: 350px;
            height: 500px;
            background-color: #f9fafb; 
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            margin-bottom: 15px;
            transform: translateY(10px);
            opacity: 0;
            visibility: hidden;
            transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;
        }

        .chatbot-window.open {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .chatbot-header {
            background-color: #004080; 
            color: white;
            padding: 1rem;
            font-size: 1.125rem;
            font-weight: 600;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header .close-button {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .chatbot-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: #ffffff;
            border-bottom: 1px solid #e5e7eb; 
        }

        .message {
            margin-bottom: 0.75rem;
            padding: 0.6rem 1rem;
            border-radius: 10px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .message.user {
            background-color: #bfdbfe; 
            color: #1f2937; 
            align-self: flex-end;
            margin-left: auto;
        }

        .message.bot {
            background-color: #e5e7eb; 
            color: #1f2937; 
            align-self: flex-start;
            margin-right: auto;
        }

        .chatbot-input-area {
            display: flex;
            padding: 1rem;
            background-color: #f9fafb; 
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
        }

        .chatbot-input-area input {
            flex-grow: 1;
            padding: 0.75rem;
            border: 1px solid #d1d5db; 
            border-radius: 8px;
            margin-right: 0.75rem;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.2s ease;
        }

        .chatbot-input-area input:focus {
            border-color: #3b82f6; 
        }

        .chatbot-input-area button {
            background-color: #004080; 
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.75rem 1.25rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .chatbot-input-area button:hover {
            background-color: #003366; 
        }

        .chatbot-input-area button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .chatbot-container {
                bottom: 15px;
                right: 15px;
            }
            .chatbot-button {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            .chatbot-window {
                width: 90vw;
                height: 70vh;
                max-width: 400px; 
                max-height: 600px;
                margin-bottom: 10px;
            }
        }
        .ivs-games-cta-btn {
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease !important;
        }
        .ivs-games-cta-btn:hover {
            transform: translateY(-3px) scale(1.03) !important;
            box-shadow: 0 6px 12px rgba(0, 64, 128, 0.2) !important;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-300 antialiased font-inter" id="page-index">
    
    <div id="header-placeholder" data-loading-text="Loading menu..."></div>

    <div id="loading-spinner" class="fixed inset-0 flex items-center justify-center bg-gray-200 bg-opacity-75 z-50 hidden">
        <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500"></div>
    </div>

    <div id="custom-modal" class="modal">
        <div class="modal-content">
            <p id="modal-message" class="text-lg font-medium text-gray-800"></p>
            <button id="modal-close-button" class="button-primary">Close</button>
        </div>
    </div>

    <main class="container mx-auto px-4 py-8"> 
        <section 
            class="hero-section-banner relative text-center overflow-hidden shadow-xl bg-gray-700 dark:bg-gray-800 rounded-lg"> 
            <div class="absolute inset-0 bg-cover bg-center opacity-20" style="background-image: url('/images/logo/webbanner.png');" onerror="this.style.backgroundImage='url(https://placehold.co/1920x600/004080/ffffff?text=IVS+Banner)'; this.classList.add('bg-slate-700');"></div>
            <div class="hero-overlay" style="background-color: rgba(0, 30, 60, 0.5); position: absolute; inset: 0; z-index: 1;"></div>
            <div class="hero-content text-white relative z-10 py-20 md:py-32">
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-4 hero-text-shadow" data-lang-key="hero_title_index_main">IVS JSC</h1>
                <p class="text-md md:text-lg mb-8 hero-text-shadow italic" data-lang-key="hero_slogan_index">"Nâng tầm Tri thức - Kiến tạo Tương lai"</p>
                <div>
                    <a href="news-archive.html" class="bg-header-orange hover:bg-orange-700 text-white font-semibold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md" data-lang-key="hero_button_about_us">IVS News - Tin tức tổng hợp </a>
                </div>
            </div>
        </section>

        <section class="py-8 bg-primary text-white text-center rounded-lg shadow-lg my-8 mx-auto max-w-7xl" data-aos="fade-up">
            <div class="mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-bold mb-4" data-lang-key="teacher_hub_cta_title">Are you a teacher? Join IVS Global Teacher Hub!</h2>
                <!-- UPDATED LINK for Teacher Hub -->
                <a href="apps/ivs-global-teacher-hub.html" class="inline-block bg-secondary hover:bg-secondary-dark text-primary-dark font-bold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md" data-lang-key="teacher_hub_cta_button">Apply Here & Explore Opportunities</a>
            </div>
        </section>
        
        <section class="py-16 bg-gray-800 dark:bg-slate-800 relative text-white video-background-section rounded-lg shadow-xl my-8 md:my-12 mx-auto max-w-7xl overflow-hidden" data-aos="fade-up">
            <div class="video-background-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; z-index: 0;">
            <video autoplay muted loop playsinline 
                   poster="https://placehold.co/1280x720/1a202c/ffffff?text=IVS+Video+Loading..." 
                   style="filter: brightness(1.2); width: 100%; height: 100%; object-fit: cover;" 
                   onerror="this.poster='https://placehold.co/1280x720/000000/ffffff?text=Video+Error'; this.style.backgroundColor='#000';"> 
                <source src="/videos/ivs_background_video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            </div>
            <div class="video-overlay" style="background-color: rgba(0, 0, 0, 0.5); position: absolute; inset: 0; z-index: 1;"></div>
            <div class="container mx-auto px-6 md:px-12 text-center section-content-on-video relative z-10 py-20 md:py-28">
                <h2 class="text-3xl font-bold mb-6" data-lang-key="index_section_title_our_core">IVS Academy</h2>
                <a href="about.html" class="inline-block bg-primary hover:bg-primary-dark text-white font-semibold py-3 px-8 rounded-lg text-md transition duration-300 ease-in-out transform hover:scale-105 shadow-md" data-lang-key="button_learn_more_about_us">About Us</a>
            </div>
        </section>

        <section class="py-16 md:py-20 bg-white dark:bg-gray-900" data-aos="fade-up" aria-labelledby="ivs-games-section-title">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 id="ivs-games-section-title" class="text-3xl md:text-4xl font-bold text-primary dark:text-secondary mb-4" data-lang-key="index_ivsgames_title">
                        <i class="fas fa-puzzle-piece mr-2"></i>Khám Phá Thế Giới IVS Games
                    </h2>
                    <p class="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto" data-lang-key="index_ivsgames_subtitle">
                        Trải nghiệm học tập tương tác và sáng tạo qua các trò chơi giáo dục độc quyền từ IVS. Nâng cao kiến thức, rèn luyện kỹ năng một cách thú vị!
                    </p>
                </div>
                <div class="bg-gradient-to-r from-blue-500 to-indigo-600 dark:from-blue-700 dark:to-indigo-800 rounded-xl shadow-2xl overflow-hidden p-8 md:p-12 flex flex-col md:flex-row items-center" data-aos="zoom-in-up">
                    <div class="md:w-1/2 mb-8 md:mb-0 md:pr-10 text-center md:text-left">
                        <h3 class="text-3xl font-bold text-white mb-4" data-lang-key="index_ivsgames_cta_highlight">Học Mà Chơi, Chơi Mà Học!</h3>
                        <p class="text-blue-100 dark:text-blue-200 mb-8 text-md" data-lang-key="index_ivsgames_cta_desc">
                            IVS Games mang đến một phương pháp tiếp cận giáo dục mới mẻ, giúp bạn tiếp thu kiến thức hiệu quả và giải trí lành mạnh. Bắt đầu với IVS Memory Match và nhiều trò chơi khác sắp ra mắt!
                        </p>
                        <a href="games/ivsgames.html" 
                           class="ivs-games-cta-btn inline-block bg-secondary hover:bg-secondary-dark text-primary-dark font-bold py-3 px-8 rounded-lg text-lg shadow-lg transform hover:scale-105"
                           data-lang-key="index_ivsgames_cta_button">
                           <i class="fas fa-gamepad mr-2"></i>Khám phá IVS Games Arcade
                        </a>
                    </div>
                    <div class="md:w-1/2">
                        <img src="images/games/ivsgames.png" 
                             alt="Minh họa IVS Games" 
                             class="rounded-lg shadow-xl w-full h-auto object-cover"
                             onerror="this.src='https://placehold.co/500x350/1f2937/FFFFFF?text=IVS+Games';">
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 md:py-20 bg-gray-50 dark:bg-gray-800/30" data-aos="fade-up">
            <div class="container mx-auto px-4">
                <h2 class="text-center text-3xl font-bold text-gray-800 dark:text-gray-100 mb-12" data-lang-key="index_section_title_key_areas_updated">Lĩnh vực Hoạt động Chính</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                    <div class="service-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center dark:bg-slate-800 dark:border-slate-700" data-aos="zoom-in-up" data-aos-delay="100">
                        <div class="bg-blue-100 dark:bg-blue-900/50 p-4 rounded-full mb-6">
                            <i class="fas fa-graduation-cap fa-3x text-blue-500 dark:text-blue-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-3" data-lang-key="service_title_affiliated_education">Giáo dục Liên kết & Phát triển Chương trình</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-6 flex-grow" data-lang-key="service_desc_affiliated_education">Cung cấp các chương trình đào tạo liên kết đa dạng, phát triển học liệu và ứng dụng giải pháp EdTech tiên tiến cho mọi cấp học.</p>
                        <a href="education.html" class="mt-auto bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-6 rounded-md transition-colors" data-lang-key="button_explore_education_programs">Khám phá Giáo dục</a>
                    </div>
                    <div class="service-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center dark:bg-slate-800 dark:border-slate-700" data-aos="zoom-in-up" data-aos-delay="200">
                        <div class="bg-green-100 dark:bg-green-900/50 p-4 rounded-full mb-6">
                            <i class="fas fa-briefcase fa-3x text-green-500 dark:text-green-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-3" data-lang-key="service_title_business_consulting">Tư vấn Quản trị & Giải pháp Doanh nghiệp</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-6 flex-grow" data-lang-key="service_desc_business_consulting">Giải pháp toàn diện cho doanh nghiệp: từ thủ tục hành chính, thuế, website, thiết kế học liệu, đến các dịch vụ hỗ trợ vận hành chuyên nghiệp.</p>
                        <a href="solutions.html" class="mt-auto bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-6 rounded-md transition-colors" data-lang-key="button_explore_business_services">Dịch vụ Doanh nghiệp</a>
                    </div>
                    <div class="service-card bg-white p-8 rounded-xl shadow-lg flex flex-col items-center text-center dark:bg-slate-800 dark:border-slate-700" data-aos="zoom-in-up" data-aos-delay="300">
                        <div class="bg-yellow-100 dark:bg-yellow-900/50 p-4 rounded-full mb-6">
                            <i class="fas fa-globe-americas fa-3x text-yellow-500 dark:text-yellow-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-3" data-lang-key="service_title_international_cooperation">Liên kết Quốc tế & Hội nhập Toàn cầu</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-6 flex-grow" data-lang-key="service_desc_international_cooperation">Du học các cấp đến mọi Châu Lục, Học bổng Du học, Trao đổi học sinh - Sinh viên. Cộng đồng Hỗ trợ sinh viên.</p>
                        <a href="/Pages/foreign-teacher-services.html" class="mt-auto bg-yellow-500 hover:bg-amber-600 text-white font-medium py-2 px-6 rounded-md transition-colors" data-lang-key="button_explore_international_coop">Hợp tác Quốc tế</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 md:py-20 bg-white dark:bg-gray-900" data-aos="fade-up" aria-labelledby="legal-consulting-section">
            <div class="container mx-auto px-4">
                <h2 id="legal-consulting-section" class="text-center text-3xl font-bold text-gray-800 dark:text-gray-100 mb-12" data-lang-key="index_featured_legal_title">Dịch vụ Nổi bật: Tư vấn Pháp lý Chuyên sâu</h2>
                <div class="grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-8 max-w-4xl mx-auto">
                    <div class="service-card bg-gray-50 p-8 rounded-xl shadow-lg flex flex-col items-center text-center dark:bg-slate-800 dark:border-slate-700" data-aos="zoom-in-up" data-aos-delay="100">
                        <div class="bg-blue-100 dark:bg-blue-900/50 p-4 rounded-full mb-6">
                            <i class="fas fa-gavel fa-3x text-blue-500 dark:text-blue-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-3" data-lang-key="legal_consulting_hero_title">Tư Vấn Pháp Lý Chuyên Sâu</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-6 flex-grow" data-lang-key="index_featured_legal_desc">IVS JSC cung cấp dịch vụ tư vấn pháp lý chuyên sâu, đồng hành cùng cá nhân và doanh nghiệp trong việc hiểu rõ, phòng ngừa rủi ro và đưa ra các quyết định pháp lý chiến lược.</p>
                        <a href="/Pages/legal_consulting.html" class="mt-auto bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-6 rounded-md transition-colors" data-lang-key="index_featured_legal_button">Tìm hiểu Dịch vụ Pháp lý</a>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="py-16 md:py-20 bg-white dark:bg-gray-900" data-aos="fade-up" aria-labelledby="education-programs-section">
            <div class="container mx-auto px-4">
                <h2 id="education-programs-section" class="text-center text-3xl font-bold text-gray-800 dark:text-gray-100 mb-12" data-lang-key="index_section_title_education_programs_detail">Chương Trình Đào Tạo Chi Tiết</h2>
                <div id="education-programs-container" class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6 max-w-5xl mx-auto">
                    <a href="/Pages/lkmamnon.html" class="education-level-card group block bg-gray-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="100">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-blue-100 dark:bg-blue-900/50 group-hover:bg-blue-200 dark:group-hover:bg-blue-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-child fa-3x text-blue-500 dark:text-blue-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300" data-lang-key="small_button_preschool">Mầm non</h3>
                    </a>
                    <a href="/Pages/lktieuhoc.html" class="education-level-card group block bg-gray-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="150">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-green-100 dark:bg-green-900/50 group-hover:bg-green-200 dark:group-hover:bg-green-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-school fa-3x text-green-500 dark:text-green-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors duration-300" data-lang-key="small_button_primary">Tiểu học</h3>
                    </a>
                    <a href="/Pages/lkthcsthpt.html" class="education-level-card group block bg-gray-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="200">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-purple-100 dark:bg-purple-900/50 group-hover:bg-purple-200 dark:group-hover:bg-purple-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-user-graduate fa-3x text-purple-500 dark:text-purple-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors duration-300" data-lang-key="small_button_secondary">THCS/THPT</h3>
                    </a>
                    <a href="/Pages/ivslanguages.html" class="education-level-card group block bg-gray-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="250">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-100 dark:bg-red-900/50 group-hover:bg-red-200 dark:group-hover:bg-red-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-language fa-3x text-red-500 dark:text-red-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 group-hover:text-red-600 dark:group-hover:text-red-400 transition-colors duration-300" data-lang-key="small_button_language_center">TT Anh Ngữ</h3>
                    </a>
                    <a href="/Pages/ivslifeminds.html" class="education-level-card group block bg-gray-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="300">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-yellow-100 dark:bg-yellow-900/50 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-brain fa-3x text-yellow-500 dark:text-yellow-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 group-hover:text-yellow-600 dark:group-hover:text-yellow-400 transition-colors duration-300" data-lang-key="small_button_lifeskills">Kỹ năng sống</h3>
                    </a>
                    <a href="/Pages/steambyivs.html" class="education-level-card group block bg-gray-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="350">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-indigo-100 dark:bg-indigo-900/50 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-rocket fa-3x text-indigo-500 dark:text-indigo-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300" data-lang-key="small_button_steam">STEAM</h3>
                    </a>
                    <a href="/Blogs/talktask-ivsuniversitieshcmc.html" class="education-level-card group block bg-gray-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="400">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-teal-100 dark:bg-teal-900/50 group-hover:bg-teal-200 dark:group-hover:bg-teal-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-globe fa-3x text-teal-500 dark:text-teal-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors duration-300" data-lang-key="small_button_international">Sinh viên Quốc tế</h3>
                    </a>
                    <a href="/Blogs/letstalkdongnai.html" class="education-level-card group block bg-gray-50 dark:bg-slate-800 dark:border-slate-700 p-6 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-center" data-aos="fade-up" data-aos-delay="450">
                        <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-pink-100 dark:bg-pink-900/50 group-hover:bg-pink-200 dark:group-hover:bg-pink-800/70 transition-colors duration-300 mb-4">
                            <i class="fas fa-comments fa-3x text-pink-500 dark:text-pink-400" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 group-hover:text-pink-600 dark:group-hover:text-pink-400 transition-colors duration-300" data-lang-key="small_button_consulting">Hãy Nói - Tiếng Nói Tuổi Trẻ</h3>
                    </a>
                </div>
            </div>
        </section>
        
        <section class="py-16 bg-gray-50 dark:bg-gray-800/30" data-aos="fade-up" aria-labelledby="why-choose-ivs-section"> 
            <div class="container mx-auto px-6 md:px-12">
                <h2 id="why-choose-ivs-section-heading" class="text-center text-3xl font-bold text-gray-800 dark:text-gray-100 mb-12" data-lang-key="index_section_title_why_us">Tại Sao Chọn IVS JSC?</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
                    <div data-aos="fade-right" data-aos-delay="100">
                        <div class="bg-header-orange text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg">
                            <i class="fas fa-award fa-2x" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2" data-lang-key="why_us_quality">Chất lượng Vượt trội</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm" data-lang-key="why_us_quality_desc">Đội ngũ chuyên gia giàu kinh nghiệm, chương trình chuẩn quốc tế.</p>
                    </div>
                    <div data-aos="fade-right" data-aos-delay="200">
                        <div class="bg-secondary text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg">
                            <i class="fas fa-cogs fa-2x" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2" data-lang-key="why_us_tech">Giải pháp Toàn diện</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm" data-lang-key="why_us_tech_desc_updated">Từ giáo dục, EdTech đến tư vấn và hỗ trợ vận hành doanh nghiệp.</p>
                    </div>
                    <div data-aos="fade-left" data-aos-delay="300">
                        <div class="bg-primary text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg">
                            <i class="fas fa-lightbulb fa-2x" aria-hidden="true"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2" data-lang-key="why_us_env">Môi trường Sáng tạo</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm" data-lang-key="why_us_env_desc">Khuyến khích tư duy đột phá, bình đẳng và tôn trọng sự khác biệt.</p>
                    </div>
                    <div data-aos="fade-left" data-aos-delay="400">
                        <div class="bg-warning text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-lg">
                            <i class="fas fa-handshake fa-2x" aria-hidden="true"></i> 
                        </div>
                        <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2" data-lang-key="why_us_partnership">Đối tác Tin cậy</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm" data-lang-key="why_us_partnership_desc">Đồng hành cùng phát triển, mang lại giá trị bền vững.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 bg-white dark:bg-gray-900" data-aos="fade-up" aria-labelledby="news-events-section-heading">
            <div class="container mx-auto px-4">
                <h2 id="news-events-section-heading" class="text-3xl font-bold text-center text-gray-800 dark:text-gray-100 mb-8" data-lang-key="index_news_title">Tin Tức & Sự Kiện</h2>
                <div id="news-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <p class="text-gray-500 dark:text-gray-400 col-span-full text-center" data-lang-key="loading_news">Đang tải tin tức...</p>
                </div>
                <div class="text-center mt-10">
                    <a href="news-archive.html" class="bg-gray-700 hover:bg-gray-800 dark:bg-slate-700 dark:hover:bg-slate-600 text-white font-semibold py-3 px-8 rounded-lg text-md transition duration-300 ease-in-out" data-lang-key="button_all_news">Xem tất cả tin tức</a>
                </div>
            </div>
        </section>
        
        <section class="py-12 md:py-16 bg-gray-100 dark:bg-gray-800/50 section-spacing" data-aos="fade-up" aria-labelledby="testimonials-section-heading">
            <div class="container mx-auto px-4 max-w-7xl">
                <h2 id="testimonials-section-heading" class="text-2xl md:text-3xl font-semibold text-neutral-700 dark:text-gray-100 mb-8 text-center" data-aos="fade-up" data-lang-key="webdesign_testimonials_heading">Khách hàng & Đối tác nói gì về IVS JSC</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-gray-700 text-gray-900 dark:text-white flex flex-col bg-white dark:bg-slate-800 p-6 rounded-lg" data-aos="zoom-in" data-aos-delay="100">
                        <i class="fas fa-quote-left text-3xl text-blue-500 dark:text-blue-400 mb-4" aria-hidden="true"></i>
                        <p class="text-gray-600 dark:text-gray-300 italic mb-4 flex-grow" data-lang-key="testimonial_1_text"> Phụ huynh: "Chương trình học tại IVS Academy linh động và thực tế. Có thể tinh chỉnh theo bất cứ nhu càu học tập, giảng dạy nào, nhờ Đội ngũ giảng viên cực kỳ chất lượng, và tư duy nhạy bén trong giáo dục. Con trai chúng Là con lai lần đầu tiên về Việt Nam, nhưng phải theo học chương trình bên đó và IVS kết hợp với chương trình đào tạo của trường mà cậu bé lớp 1 này đang theo học ở Mỹ để dạy bé trong vòng 3 tháng, điều đó thật tuyệt vời."</p>
                        <div class="mt-auto pt-4 border-t border-gray-200 dark:border-gray-700">
                            <p class="font-semibold text-gray-700 dark:text-gray-200" data-lang-key="testimonial_1_name">Bé Thomas - Quốc tịch Mỹ</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400" data-lang-key="testimonial_1_title">Học viên đặc biệt của IVS</p>
                        </div>
                    </div>
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-gray-700 flex flex-col bg-white dark:bg-slate-800 p-6 rounded-lg" data-aos="zoom-in" data-aos-delay="200">
                        <i class="fas fa-quote-left text-3xl text-green-500 dark:text-green-400 mb-4" aria-hidden="true"></i>
                        <p class="text-gray-600 dark:text-gray-300 italic mb-4 flex-grow" data-lang-key="testimonial_2_text">"Nhờ giải pháp EdTech của IVS Celestech, trường chúng tôi đã cải thiện đáng kể việc quản lý học sinh và nâng cao chất lượng giảng dạy. Đây thực sự là một bước tiến lớn trong công tác giáo dục."</p>
                        <div class="mt-auto pt-4 border-t border-gray-200 dark:border-gray-700">
                            <p class="font-semibold text-gray-700 dark:text-gray-200" data-lang-key="testimonial_2_name">Nguyễn Thị Lan</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400" data-lang-key="testimonial_2_title">Hiệu trưởng Trường Tiểu học Ánh Dương</p>
                        </div>
                    </div>
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-gray-700 flex flex-col bg-white dark:bg-slate-800 p-6 rounded-lg" data-aos="zoom-in" data-aos-delay="300">
                        <i class="fas fa-quote-left text-3xl text-purple-500 dark:text-purple-400 mb-4" aria-hidden="true"></i>
                        <p class="text-gray-600 dark:text-gray-300 italic mb-4 flex-grow" data-lang-key="testimonial_3_text">"Hợp tác với IVS JSC trong dự án giáo dục quốc tế đã giúp chúng tôi tiếp cận được nhiều cơ hội mới và đạt được những thành tựu đáng kể. Đội ngũ làm việc rất chuyên nghiệp và tận tâm."</p>
                        <div class="mt-auto pt-4 border-t border-gray-200 dark:border-gray-700">
                            <p class="font-semibold text-gray-700 dark:text-gray-200" data-lang-key="testimonial_3_name">Lê Văn Hùng</p>
                            <p class="text-sm text-gray-500 dark:text-gray-400" data-lang-key="testimonial_3_title">Trưởng phòng Hợp tác Quốc tế, Công ty Giáo dục Việt</p>
                        </div>
                    </div>
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-gray-700 flex flex-col bg-white dark:bg-slate-800 p-6 rounded-lg" data-aos="zoom-in" data-aos-delay="400">
                        <i class="fas fa-quote-left text-3xl text-orange-500 dark:text-orange-400 mb-4" aria-hidden="true"></i>
                        <p class="text-gray-600 dark:text-gray-300 italic mb-4 flex-grow" data-lang-key="webdesign_testimonial1_text">"IVS Celestech đã vượt mong đợi của chúng tôi với một website chuyên nghiệp, hiện đại và tối ưu SEO. Rất hài lòng với dịch vụ!"</p>
                        <div class="mt-auto pt-4 border-t border-gray-200 dark:border-gray-700">
                                <p class="font-semibold text-gray-700 dark:text-gray-200" data-lang-key="webdesign_testimonial1_author">- Đại diện Công ty TNHH MTV ST</p>
                        </div>
                    </div>
                    <div class="testimonial-card shadow-xl border border-blue-100 dark:border-gray-700 flex flex-col bg-white dark:bg-slate-800 p-6 rounded-lg" data-aos="zoom-in" data-aos-delay="500">
                        <i class="fas fa-quote-left text-3xl text-teal-500 dark:text-teal-400 mb-4" aria-hidden="true"></i>
                        <p class="text-gray-600 dark:text-gray-300 italic mb-4 flex-grow" data-lang-key="webdesign_testimonial2_text">"The KhaDock.com website is optimized for UI and SEO, and the design was delivered extremely fast. Very professional. I will recommend IVS to my clients and partners in the US."</p>
                            <div class="mt-auto pt-4 border-t border-gray-200 dark:border-gray-700">
                                 <p class="font-semibold text-gray-700 dark:text-gray-200" data-lang-key="webdesign_testimonial2_author">- Mr Kha - Founder & Director of KhaDock - Florida, USA.</p>
                            </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="py-20 bg-primary dark:bg-blue-700 text-white rounded-lg" data-aos="zoom-in" aria-labelledby="cta-section-heading">
            <div class="container mx-auto px-6 text-center">
                <h2 id="cta-section-heading" class="text-3xl md:text-4xl font-bold mb-6" data-lang-key="cta_main_title">Sẵn sàng Nâng tầm Tri thức & Kiến tạo Tương lai?</h2>
                <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto" data-lang-key="cta_main_subtitle">Hãy kết nối với IVS JSC ngay hôm nay để khám phá các giải pháp giáo dục và công nghệ hàng đầu, cùng những cơ hội hợp tác phát triển bền vững.</p>
                <div class="space-y-4 md:space-y-0 md:space-x-4">
                    <a href="contact.html?action=consult" class="inline-block bg-white text-primary hover:bg-gray-100 dark:text-blue-600 dark:hover:bg-gray-200 font-bold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105 shadow-md" data-lang-key="cta_button_consult">Đăng ký Tư vấn</a>
                    <a href="contact.html" class="inline-block border-2 border-white text-white hover:bg-white hover:text-primary dark:hover:text-blue-600 font-bold py-3 px-8 rounded-lg text-lg transition duration-300 ease-in-out transform hover:scale-105" data-lang-key="cta_button_contact">Liên hệ Hợp tác</a>
                </div>
            </div>
        </section>
    </main>

    <div id="fab-container-placeholder"></div>
    <div id="footer-placeholder" data-loading-text="Loading footer..."></div>
    
    <button id="scrollToTopBtn" class="hidden fixed bottom-5 right-5 z-[90] items-center justify-center w-10 h-10 md:w-12 md:h-12 rounded-full bg-gray-700 text-white shadow-lg hover:bg-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-900 dark:bg-neutral-600 dark:hover:bg-neutral-500" aria-label="Scroll to top">
        <i class="fas fa-arrow-up text-lg md:text-xl" aria-hidden="true"></i>
    </button>

    <div class="chatbot-container">
        <div id="chatbot-window" class="chatbot-window">
            <div class="chatbot-header">
                <span>IVS AI Assistant</span>
                <button id="chatbot-close-button" class="close-button">&times;</button>
            </div>
            <div id="chatbot-messages" class="chatbot-messages flex flex-col space-y-3">
                <div class="message bot">Welcome to IVS JSC! How can I help you today?</div>
            </div>
            <div class="chatbot-input-area">
                <input type="text" id="chatbot-input" placeholder="Type your message...">
                <button id="chatbot-send-button"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
        <button id="chatbot-open-button" class="chatbot-button">
            <i class="fas fa-robot"></i>
        </button>
    </div>

    <script src="/js/language.js"></script>
    <script src="/js/loadComponents.js"></script>
    <script src="/js/script.js"></script>
    
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>

    <script>
        const chatbotOpenButton = document.getElementById('chatbot-open-button');
        const chatbotCloseButton = document.getElementById('chatbot-close-button');
        const chatbotWindow = document.getElementById('chatbot-window');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotSendButton = document.getElementById('chatbot-send-button');
        const chatbotMessages = document.getElementById('chatbot-messages');

        if (chatbotOpenButton) {
            chatbotOpenButton.addEventListener('click', () => {
                if (chatbotWindow) chatbotWindow.classList.add('open');
            });
        }

        if (chatbotCloseButton) {
            chatbotCloseButton.addEventListener('click', () => {
                if (chatbotWindow) chatbotWindow.classList.remove('open');
            });
        }
        if (chatbotSendButton && chatbotInput && chatbotMessages) {
            function addMessage(text, type) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message', type);
                messageDiv.textContent = text;
                chatbotMessages.appendChild(messageDiv);
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            }

            chatbotSendButton.addEventListener('click', () => {
                const userText = chatbotInput.value.trim();
                if (userText) {
                    addMessage(userText, 'user');
                    chatbotInput.value = '';
                    setTimeout(() => {
                        addMessage("Thanks for your message! An IVS representative will be with you shortly.", 'bot');
                    }, 500);
                }
            });
            chatbotInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    chatbotSendButton.click();
                }
            });
        }

        function loadPosts() {
            const newsContainer = document.getElementById('news-container');
            if (newsContainer) {
                newsContainer.innerHTML = '<p class="text-gray-700 dark:text-gray-300 col-span-full text-center" data-lang-key="no_news_available">Hiện chưa có tin tức nào.</p>';
                 if (typeof applyLanguage === 'function' && typeof currentLanguage !== 'undefined') {
                    applyLanguage(currentLanguage); // Re-apply translations if needed
                }
            } else {
                // console.warn('News container not found.');
            }
        }
        if (document.getElementById('news-container')) {
            loadPosts();
        }

        if (typeof window.applyLanguage === 'undefined') {
            window.applyLanguage = function(lang) {
                // console.log('Dummy applyLanguage called for language:', lang || 'default');
            };
        }
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, collection, serverTimestamp, onSnapshot, query, where, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js"; 

        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id'; 
        
        let app;
        let db;
        let auth;
        let userId = 'Đang tải...';
        let isAuthReady = false;

        const applyTabButton = document.getElementById('apply-tab-button');
        const viewTeachersTabButton = document.getElementById('view-teachers-tab-button');
        const teacherApplicationSection = document.getElementById('teacher-application-section');
        const teacherOverviewSection = document.getElementById('teacher-overview-section');
        const teacherApplicationForm = document.getElementById('teacher-application-form');
        const teachersList = document.getElementById('teachers-list'); 
        const noTeachersMessage = document.getElementById('no-teachers-message'); 
        const userIdDisplay = document.getElementById('user-id-display'); 
        
        const loadingSpinner = document.getElementById('loading-spinner');
        const customModal = document.getElementById('custom-modal');
        const modalMessage = document.getElementById('modal-message');
        const modalCloseButton = document.getElementById('modal-close-button');

        function showModal(message) {
            if (modalMessage) modalMessage.innerHTML = message; 
            if (customModal) customModal.classList.add('show');
        }

        function hideModal() {
            if (customModal) customModal.classList.remove('show');
        }

        if (modalCloseButton) modalCloseButton.addEventListener('click', hideModal);

        function showLoadingSpinner() {
            if (loadingSpinner) loadingSpinner.classList.remove('hidden');
        }

        function hideLoadingSpinner() {
            if (loadingSpinner) loadingSpinner.classList.add('hidden');
        }
        
        window.onload = async function() {
            showLoadingSpinner();
            let firebaseConfigObject = {};
            let parsedSuccessfully = false;

            if (typeof __firebase_config !== 'undefined' && __firebase_config !== null && String(__firebase_config).trim() !== '') {
                try {
                    firebaseConfigObject = JSON.parse(__firebase_config);
                    parsedSuccessfully = true;
                } catch (e) {
                    // console.error("Lỗi phân tích cấu hình Firebase:", e);
                    showModal("Cấu hình Firebase không hợp lệ. Vui lòng liên hệ bộ phận hỗ trợ. (Lỗi Parse)");
                    if(userIdDisplay) userIdDisplay.textContent = 'User ID: Lỗi CFG Parse';
                }
            } else {
                // console.warn("Biến cấu hình Firebase (__firebase_config) không được cung cấp hoặc trống.");
            }

            if (!parsedSuccessfully || !firebaseConfigObject.apiKey || !firebaseConfigObject.authDomain || !firebaseConfigObject.projectId) {
                // console.error("Cấu hình Firebase bị thiếu các trường quan trọng hoặc không hợp lệ.");
                if (parsedSuccessfully) { 
                  showModal("Lỗi cấu hình hệ thống Firebase. Vui lòng thử lại sau hoặc liên hệ bộ phận hỗ trợ. (Thiếu trường quan trọng)");
                } else if (typeof __firebase_config === 'undefined' || String(__firebase_config).trim() === '') {
                     // console.warn("Firebase config not provided. Skipping Firebase initialization.");
                }
                if(userIdDisplay) userIdDisplay.textContent = 'User ID: Lỗi CFG Thiếu';
                hideLoadingSpinner();
                AOS.init({ duration: 800, once: true, offset: 50 });
                initializeScrollToTop();
                return; 
            }

            try {
                app = initializeApp(firebaseConfigObject);
                db = getFirestore(app);
                auth = getAuth(app);
                
                const currentInitialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

                if (currentInitialAuthToken) {
                    try {
                        await signInWithCustomToken(auth, currentInitialAuthToken);
                        // console.log("Signed in with custom token.");
                    } catch (error) {
                        // console.error("Lỗi đăng nhập bằng custom token, thử đăng nhập ẩn danh:", error);
                        try {
                            await signInAnonymously(auth);
                            // console.log("Signed in anonymously after custom token failure.");
                        } catch (anonError) {
                            // console.error("Lỗi đăng nhập ẩn danh sau khi custom token thất bại:", anonError);
                            showModal("Lỗi xác thực người dùng. Vui lòng thử lại.");
                        }
                    }
                } else {
                    try {
                        await signInAnonymously(auth);
                        // console.log("Signed in anonymously.");
                    } catch (error) {
                        // console.error("Lỗi đăng nhập ẩn danh:", error);
                        showModal("Lỗi đăng nhập ẩn danh. Vui lòng thử lại.");
                    }
                }

                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        if(userIdDisplay) userIdDisplay.textContent = `User ID: ${userId}`;
                        // console.log("User authenticated with UID:", userId);
                        isAuthReady = true;
                        if (teacherOverviewSection && teachersList) { 
                           if (!teacherApplicationSection || teacherApplicationSection.classList.contains('hidden')) { 
                                loadApprovedTeachers();
                           }
                        }
                    } else {
                        userId = 'N/A (chưa đăng nhập)';
                        if(userIdDisplay) userIdDisplay.textContent = `User ID: ${userId}`;
                        // console.log("User is not authenticated.");
                        isAuthReady = false;
                    }
                    hideLoadingSpinner(); 
                });

            } catch (error) {
                // console.error("Lỗi khởi tạo Firebase hoặc xác thực:", error);
                showModal("Không thể khởi tạo ứng dụng Firebase. Vui lòng kiểm tra kết nối mạng và cấu hình.");
                if(userIdDisplay) userIdDisplay.textContent = 'User ID: Lỗi Init Firebase';
                hideLoadingSpinner();
            }
            
            AOS.init({
                duration: 800,
                once: true,
                offset: 50,
            });
            initializeScrollToTop();
        };

        function initializeScrollToTop(){
            const scrollToTopBtn = document.getElementById('scrollToTopBtn');
            if (scrollToTopBtn) {
                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 200) {
                        scrollToTopBtn.classList.remove('hidden');
                        scrollToTopBtn.classList.add('flex');
                    } else {
                        scrollToTopBtn.classList.remove('flex');
                        scrollToTopBtn.classList.add('hidden');
                    }
                }, { passive: true });

                scrollToTopBtn.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                if (window.pageYOffset <= 200) {
                    scrollToTopBtn.classList.add('hidden');
                } else {
                    scrollToTopBtn.classList.remove('hidden');
                    scrollToTopBtn.classList.add('flex');
                }
            }
        }
        
        if(applyTabButton && viewTeachersTabButton && teacherApplicationSection && teacherOverviewSection) {
            applyTabButton.addEventListener('click', () => {
                applyTabButton.classList.add('active');
                viewTeachersTabButton.classList.remove('active');
                teacherApplicationSection.classList.remove('hidden');
                teacherOverviewSection.classList.add('hidden');
            });

            viewTeachersTabButton.addEventListener('click', () => {
                viewTeachersTabButton.classList.add('active');
                applyTabButton.classList.remove('active');
                teacherApplicationSection.classList.add('hidden');
                teacherOverviewSection.classList.remove('hidden');
                if (isAuthReady) {
                    loadApprovedTeachers();
                } else {
                    showModal("Đang tải dữ liệu giáo viên. Vui lòng đợi xác thực hoặc thử làm mới trang.");
                }
            });
        }

        if(teacherApplicationForm) {
            teacherApplicationForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                showLoadingSpinner();

                if (!db || !auth || !auth.currentUser || !isAuthReady || userId.startsWith('N/A') || userId === 'Đang tải...') {
                    showModal("Hệ thống chưa sẵn sàng hoặc người dùng chưa được xác thực đầy đủ. Vui lòng đợi hoặc thử làm mới trang.");
                    hideLoadingSpinner();
                    return;
                }
                const currentFormUserId = auth.currentUser.uid; 

                const fullName = document.getElementById('fullName').value;
                const email = document.getElementById('email').value;
                const phoneNumber = document.getElementById('phoneNumber').value;
                const nationality = document.getElementById('nationality').value;
                const qualification = document.getElementById('qualification').value;
                const experience = parseInt(document.getElementById('experience').value);
                const subjects = document.getElementById('subjects').value.split(',').map(s => s.trim()).filter(s => s); 
                const bio = document.getElementById('bio').value;
                const resumeUrl = document.getElementById('resumeUrl').value;
                const photoUrl = document.getElementById('photoUrl').value;

                const newAppRef = doc(collection(db, `artifacts/${appId}/users/${currentFormUserId}/teacher_applications`));
                const applicationId = newAppRef.id;

                const teacherData = {
                    fullName, email, phoneNumber, nationality, qualification, experience, subjects, bio,
                    resumeUrl: resumeUrl || null,
                    photoUrl: photoUrl || `https://placehold.co/100x100/004080/FFFFFF?text=${fullName.charAt(0) || 'P'}`, 
                    submissionTimestamp: serverTimestamp(),
                    userId: currentFormUserId, 
                    applicationId: applicationId 
                };

                const publicTeacherData = {
                    fullName, nationality, qualification, experience, subjects, bio,
                    photoUrl: photoUrl || `https://placehold.co/100x100/004080/FFFFFF?text=${fullName.charAt(0) || 'P'}`,
                    isApprovedForPublicDisplay: false, 
                    applicationId: applicationId,
                    userId: currentFormUserId 
                };

                try {
                    await setDoc(newAppRef, teacherData);
                    await setDoc(doc(db, `artifacts/${appId}/public/data/teacher_applications`, applicationId), publicTeacherData);
                    showModal("Đơn ứng tuyển của bạn đã được gửi thành công! Chúng tôi sẽ sớm liên hệ với bạn. Bạn có thể cần tải lên CV và các tài liệu khác qua một liên kết được cung cấp riêng (nếu có).");
                    teacherApplicationForm.reset();
                } catch (error) {
                    // console.error("Lỗi khi gửi đơn ứng tuyển: ", error);
                    showModal("Đã xảy ra lỗi khi gửi đơn ứng tuyển. Vui lòng thử lại. Lỗi: " + error.message);
                } finally {
                    hideLoadingSpinner();
                }
            });
        }

        function loadApprovedTeachers() {
            if (!db || !isAuthReady) {
                // console.warn("Firestore hoặc Auth chưa sẵn sàng để tải danh sách giáo viên.");
                if (teachersList) teachersList.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400">Chưa thể tải danh sách giáo viên. Vui lòng đợi...</p>';
                return;
            }
            if (!teachersList || !noTeachersMessage) {
                // console.warn("Một số thành phần DOM cho danh sách giáo viên không tồn tại trên trang này.");
                return; 
            }

            showLoadingSpinner();
            const q = query(collection(db, `artifacts/${appId}/public/data/teacher_applications`), where("isApprovedForPublicDisplay", "==", true));
            
            onSnapshot(q, (snapshot) => {
                teachersList.innerHTML = ''; 
                if (snapshot.empty) {
                    noTeachersMessage.classList.remove('hidden');
                } else {
                    noTeachersMessage.classList.add('hidden');
                    let teacherCardsHtml = '';
                    snapshot.forEach((docSnap) => {
                        const teacher = docSnap.data();
                        const photoFallback = `https://placehold.co/100x100/004080/FFFFFF?text=${(teacher.fullName || 'N/A').charAt(0)}`;
                        teacherCardsHtml += `
                            <div class="teacher-card flex flex-col items-center p-6 bg-white dark:bg-slate-800 rounded-lg shadow-md">
                                <img src="${teacher.photoUrl || photoFallback}" alt="${teacher.fullName || 'Teacher'}" class="w-24 h-24 rounded-full object-cover mb-4 border-2 border-primary" onerror="this.src='${photoFallback}';">
                                <h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2">${teacher.fullName || 'N/A'}</h3>
                                <p class="text-gray-600 dark:text-gray-300 mb-1 text-sm"><strong>Quốc tịch:</strong> ${teacher.nationality || 'N/A'}</p>
                                <p class="text-gray-600 dark:text-gray-300 mb-1 text-sm"><strong>Bằng cấp:</strong> ${teacher.qualification || 'N/A'}</p>
                                <p class="text-gray-600 dark:text-gray-300 mb-1 text-sm"><strong>Kinh nghiệm:</strong> ${teacher.experience !== undefined ? teacher.experience + ' năm' : 'N/A'}</p>
                                <p class="text-gray-600 dark:text-gray-300 mb-1 text-sm"><strong>Môn dạy:</strong> ${(teacher.subjects && Array.isArray(teacher.subjects) && teacher.subjects.join(', ')) || 'N/A'}</p>
                                <p class="text-gray-700 dark:text-gray-400 mt-2 text-xs italic text-center">"${teacher.bio || 'Không có mô tả.'}"</p>
                            </div>
                        `;
                    });
                    teachersList.innerHTML = teacherCardsHtml;
                }
                hideLoadingSpinner();
            }, (error) => {
                // console.error("Lỗi tải danh sách giáo viên: ", error);
                showModal("Không thể tải danh sách giáo viên. Vui lòng thử lại. Lỗi: " + error.message);
                if (teachersList) teachersList.innerHTML = '<p class="text-center text-red-500">Đã xảy ra lỗi khi tải danh sách giáo viên.</p>';
                hideLoadingSpinner();
            });
        }
    </script>
</body>
</html>
