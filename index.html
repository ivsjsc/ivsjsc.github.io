<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IVS JSC - Integrate Vision Synergy</title>
    <meta name="description" content="IVS JSC - Công ty Cổ phần Dịch vụ Thương mại Integrate Vision Synergy. Cung cấp giải pháp giáo dục toàn diện, đào tạo quốc tế, công nghệ giáo dục và hợp tác đầu tư.">
    <meta name="keywords" content="IVS JSC, Integrate Vision Synergy, Giáo dục quốc tế, Đào tạo ngoại ngữ, STEAM, Kỹ năng mềm, Du học, Hợp tác quốc tế, Công nghệ giáo dục, EdTech, IVS Academy, IVS Kindergarten, IVS Celestech, Nguyễn Minh Triết">
    <link rel="stylesheet" href="css/styles.min.css?v=1.6"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <script>
        /**
         * Tải các thành phần HTML (header, footer) từ các tệp riêng biệt.
         */
        function includeHTML() {
            var z, i, elmnt, file, xhttp;
            z = document.getElementsByTagName("*");
            for (i = 0; i < z.length; i++) {
                elmnt = z[i];
                file = elmnt.getAttribute("data-include");
                if (file) {
                    xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4) {
                            if (this.status == 200) {elmnt.innerHTML = this.responseText;}
                            if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
                            elmnt.removeAttribute("data-include");
                            includeHTML(); // Gọi lại để xử lý các include lồng nhau (nếu có)
                        }
                    }
                    xhttp.open("GET", file, true);
                    xhttp.send();
                    return; // Thoát sau khi tìm thấy một phần tử để include
                }
            }
            // Thêm class 'active' cho link điều hướng hiện tại sau khi include xong
            setActiveNavLink();
        }

        /**
         * Đánh dấu link điều hướng đang hoạt động dựa trên trang hiện tại.
         */
        function setActiveNavLink() {
            // Đảm bảo header đã được tải xong trước khi tìm link
            const header = document.querySelector('header');
            if (!header || header.getAttribute('data-include')) return; // Chờ header tải xong

            const navLinks = document.querySelectorAll('header nav ul li a');
            // Lấy tên tệp hiện tại (index.html nếu là trang gốc)
            const currentPath = window.location.pathname.split('/').pop() || 'index.html';
            navLinks.forEach(link => {
                // Lấy tên tệp từ thuộc tính href
                const linkPath = (link.getAttribute('href') || '').split('/').pop();
                if (linkPath === currentPath) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }

        /**
         * Tải và hiển thị các bài viết mới nhất từ posts.json.
         */
        function loadLatestPosts() {
            const postsContainer = document.getElementById('latest-posts-container');
            if (!postsContainer) {
                console.warn('Latest posts container not found.');
                return;
            }
            postsContainer.innerHTML = '<p>Đang tải bài viết...</p>'; // Hiển thị trạng thái tải

            fetch('posts.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const contentType = response.headers.get("content-type");
                     if (!contentType || !contentType.includes("application/json")) {
                        throw new TypeError("Received non-JSON response for posts.json");
                    }
                    return response.json();
                })
                .then(posts => {
                    // Sắp xếp bài viết theo ngày giảm dần (mới nhất trước)
                    posts.sort((a, b) => new Date(b.date) - new Date(a.date));
                    // Lấy 3 bài viết mới nhất
                    const latestPosts = posts.slice(0, 3);

                    let postsHTML = '';
                    if (latestPosts.length === 0) {
                         postsHTML = '<p>Chưa có bài viết nào.</p>';
                    } else {
                        latestPosts.forEach(post => {
                            // Tạo HTML cho mỗi thẻ bài viết
                            postsHTML += `
                                <div class="post-card">
                                    <img src="${post.image || 'https://placehold.co/600x400/eee/ccc?text=Post'}" alt="${post.title || 'Bài viết'}" onerror="this.onerror=null;this.src='https://placehold.co/600x400/eee/ccc?text=Image+Error';">
                                    <div class="post-content">
                                        <h3>${post.title || 'Tiêu đề bài viết'}</h3>
                                        <p class="post-meta">Ngày đăng: ${post.date ? new Date(post.date).toLocaleDateString('vi-VN') : 'Không rõ'}</p>
                                        <p>${post.excerpt || ''}</p>
                                        <a href="${post.url || '#'}" class="read-more">Đọc thêm</a>
                                    </div>
                                </div>
                            `;
                        });
                    }
                    postsContainer.innerHTML = postsHTML; // Hiển thị các bài viết
                })
                .catch(error => {
                    console.error('Error loading latest posts:', error);
                    postsContainer.innerHTML = `<p class="error-message">Không thể tải danh sách bài viết. (${error.message})</p>`; // Hiển thị lỗi
                });
        }

        /**
         * Tải và hiển thị các bài viết nổi bật (hot: true) từ posts.json vào Swiper slider.
         */
        function loadFeaturedPosts() {
            const swiperWrapper = document.querySelector('.featured-swiper-container .swiper-wrapper');
            if (!swiperWrapper) {
                 console.warn('Featured posts swiper wrapper not found.');
                 return;
            }
             swiperWrapper.innerHTML = '<p class="text-center p-4">Đang tải thông tin nổi bật...</p>'; // Trạng thái tải

            fetch('posts.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const contentType = response.headers.get("content-type");
                     if (!contentType || !contentType.includes("application/json")) {
                        throw new TypeError("Received non-JSON response for posts.json");
                    }
                    return response.json();
                })
                .then(posts => {
                    // Lọc các bài viết có hot: true
                    const featuredPosts = posts.filter(post => post.hot === true);

                    let slidesHTML = '';
                    const swiperContainer = document.querySelector('.featured-swiper-container'); // Lấy container để ẩn/hiện nav/pag

                    if (featuredPosts.length === 0) {
                        slidesHTML = '<p class="text-center p-4">Hiện chưa có thông tin nổi bật.</p>';
                         // Ẩn navigation/pagination nếu không có slide
                         if(swiperContainer) {
                             const pagination = swiperContainer.querySelector('.swiper-pagination');
                             const nextBtn = swiperContainer.querySelector('.swiper-button-next');
                             const prevBtn = swiperContainer.querySelector('.swiper-button-prev');
                             if(pagination) pagination.style.display = 'none';
                             if(nextBtn) nextBtn.style.display = 'none';
                             if(prevBtn) prevBtn.style.display = 'none';
                         }
                    } else {
                         // Hiện navigation/pagination nếu có slide
                         if(swiperContainer) {
                             const pagination = swiperContainer.querySelector('.swiper-pagination');
                             const nextBtn = swiperContainer.querySelector('.swiper-button-next');
                             const prevBtn = swiperContainer.querySelector('.swiper-button-prev');
                             if(pagination) pagination.style.display = 'block'; // Hoặc giá trị display mặc định
                             if(nextBtn) nextBtn.style.display = 'flex'; // Hoặc giá trị display mặc định
                             if(prevBtn) prevBtn.style.display = 'flex'; // Hoặc giá trị display mặc định
                         }
                        featuredPosts.forEach(post => {
                             // Tạo HTML cho mỗi slide
                            slidesHTML += `
                                <div class="swiper-slide">
                                    <div class="featured-card">
                                        <img src="${post.image || 'https://placehold.co/400x250/eee/ccc?text=Featured'}" alt="${post.title || 'Nổi bật'}" onerror="this.onerror=null;this.src='https://placehold.co/400x250/eee/ccc?text=Image+Error';">
                                        <h3>${post.title || 'Tiêu đề'}</h3>
                                        <p>${post.excerpt || ''}</p>
                                        <a href="${post.url || '#'}" class="read-more">Xem chi tiết</a>
                                    </div>
                                </div>
                            `;
                        });
                         // Khởi tạo Swiper CHỈ KHI có slide
                        initializeFeaturedSwiper();
                    }
                    swiperWrapper.innerHTML = slidesHTML; // Hiển thị các slide hoặc thông báo

                })
                .catch(error => {
                    console.error('Error loading featured posts:', error);
                    swiperWrapper.innerHTML = `<p class="error-message text-center p-4">Không thể tải thông tin nổi bật. (${error.message})</p>`;
                     // Ẩn navigation/pagination khi có lỗi
                     const swiperContainer = document.querySelector('.featured-swiper-container');
                     if(swiperContainer) {
                         const pagination = swiperContainer.querySelector('.swiper-pagination');
                         const nextBtn = swiperContainer.querySelector('.swiper-button-next');
                         const prevBtn = swiperContainer.querySelector('.swiper-button-prev');
                         if(pagination) pagination.style.display = 'none';
                         if(nextBtn) nextBtn.style.display = 'none';
                         if(prevBtn) prevBtn.style.display = 'none';
                     }
                });
        }

        /**
         * Khởi tạo Swiper slider cho khu vực nổi bật.
         * Chỉ được gọi sau khi các slide đã được tạo và thêm vào DOM.
         */
        function initializeFeaturedSwiper() {
             // Kiểm tra xem Swiper đã được khởi tạo trên element này chưa
             const swiperContainer = document.querySelector('.featured-swiper-container');
             if (swiperContainer && swiperContainer.swiper) {
                 // Nếu đã có, có thể cập nhật hoặc hủy và tạo mới nếu cần
                 // swiperContainer.swiper.update();
                 return; // Hoặc return nếu không muốn khởi tạo lại
             }

             const featuredSwiper = new Swiper('.featured-swiper-container', {
                slidesPerView: 2.0,   // Hiển thị 2 thẻ trên mobile
                spaceBetween: 12,     // Giảm khoảng cách trên mobile
                // Chỉ bật loop nếu có đủ slide (ví dụ: nhiều hơn số slide hiển thị)
                // loop: featuredPosts.length > 3, // Ví dụ logic kiểm tra số lượng slide
                loop: true, // Tạm thời để true, có thể chỉnh lại logic nếu cần

                breakpoints: {
                    640: {
                      slidesPerView: 2.3,
                      spaceBetween: 20,
                    },
                    1024: {
                      slidesPerView: 3,
                      spaceBetween: 30,
                    }
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                grabCursor: true,
                keyboard: {
                    enabled: true,
                },
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                    pauseOnMouseEnter: true, // Tạm dừng khi hover chuột
                },
            });
        }

    </script>
    </head>
<body>
  <header id="header-placeholder">Đang tải header...</header>

    <main>
        <section class="hero">
            <h1>Chào mừng đến với IVS JSC</h1>
            <p>Kết nối Tầm nhìn - Đồng lòng Sức mạnh - Vì một Tương lai Giáo dục Vượt trội</p>
            <a href="about.html" class="cta-button">Tìm hiểu thêm</a>
        </section>
        
        <section id="latest-posts" class="latest-posts">
          <h2>Bài viết mới nhất</h2>
          <div id="latest-posts-container" class="posts-grid">
               </div>
        </section>

      <section class="key-services content-section" style="background-color: var(--light-color);">
        <div class="container">
          <h2 class="section-heading">Lĩnh vực hoạt động chính</h2>
          <div class="services-grid">
            <div class="service-card">
              <i class="fas fa-language"></i>
              <h3>IVS Academy</h3>
              <p>Đào tạo ngoại ngữ (Anh, Trung, Nhật), STEAM, kỹ năng mềm cho mọi lứa tuổi. Chương trình "Hãy Nói" phát triển kỹ năng giao tiếp.</p>
              <a href="about.html#ivs-academy" class="cta-link">Tìm hiểu thêm</a>
            </div>
            <div class="service-card">
              <i class="fas fa-child"></i>
              <h3>IVS Kindergarten</h3>
              <p>Mô hình STEAM+Intelligence, giáo trình kỹ năng sống LIFEMinds, hướng tới hệ thống IVS Global School liên cấp.</p>
              <a href="about.html#ivs-kindergarten" class="cta-link">Tìm hiểu thêm</a>
            </div>
            <div class="service-card">
              <i class="fas fa-microchip"></i>
              <h3>IVS Celestech</h3>
              <p>Phát triển giải pháp công nghệ giáo dục: E-learning, LMS, ứng dụng AI, VR/AR nâng cao hiệu quả học tập.</p>
              <a href="about.html#ivs-celestech" class="cta-link">Tìm hiểu thêm</a>
            </div>
            <div class="service-card">
              <i class="fas fa-globe-americas"></i>
              <h3>Hợp tác Quốc tế</h3>
              <p>Liên kết với đối tác Hoa Kỳ, Đài Loan, Philippines, châu Âu. Tổ chức du học, trại hè, trao đổi giáo dục.</p>
              <a href="lien-ket-quoc-te.html" class="cta-link">Xem chi tiết</a>
            </div>
            <div class="service-card">
              <i class="fas fa-briefcase"></i>
              <h3>Tư vấn Doanh nghiệp</h3>
              <p>Hỗ trợ pháp lý, thành lập trung tâm ngoại ngữ, tư vấn thuế, kế toán, quản trị và phát triển doanh nghiệp.</p>
              <a href="tuvan.html" class="cta-link">Xem chi tiết</a>
            </div>
            <div class="service-card">
              <i class="fas fa-comments"></i>
              <h3>Chương trình "Hãy Nói"</h3>
              <p>Diễn đàn phi lợi nhuận dành cho học sinh Long Thành, Đồng Nai phát triển kỹ năng giao tiếp, tư duy phản biện.</p>
              <a href="tai-tro.html" class="cta-link">Tìm hiểu thêm</a>
            </div>
          </div>
        </div>
      </section>

      <section class="edu-partnerships content-section">
        <div class="container">
          <h2 class="section-heading">Giải pháp Liên kết Giáo dục Toàn diện</h2>
          <div class="partnership-grid">
            <div class="partnership-card">
              <i class="fas fa-baby"></i>
              <h3>Mầm non</h3>
              <p>Cung cấp chương trình chuẩn quốc tế IVS Kindergarten (STEAM+Intelligence), giáo trình KNS LIFEMinds, đào tạo giáo viên, tư vấn thiết lập.</p>
              <a href="lkmamnon.html" class="cta-link">Chi tiết Mầm non</a>
            </div>
            <div class="partnership-card">
              <i class="fas fa-school"></i>
              <h3>Tiểu học</h3>
              <p>Tích hợp Kỹ năng sống & Tiếng Anh (LIFEMinds), chương trình STEAM, cung cấp giáo viên bản xứ, hướng tới IVS Global School.</p>
              <a href="lktieuhoc.html" class="cta-link">Chi tiết Tiểu học</a>
            </div>
            <div class="partnership-card">
              <i class="fas fa-user-graduate"></i>
              <h3>THCS & THPT</h3>
              <p>Chương trình tiếng Anh học thuật, KNS nâng cao, định hướng du học và nghề nghiệp, liên kết trao đổi quốc tế.</p>
              <a href="lkthcsthpt.html" class="cta-link">Chi tiết THCS-THPT</a>
            </div>
            <div class="partnership-card">
              <i class="fas fa-chalkboard-teacher"></i>
              <h3>Trung tâm Ngoại ngữ</h3>
              <p>Cung cấp giáo viên bản xứ chất lượng, chương trình đào tạo đa dạng, giải pháp EdTech (LMS, App), tư vấn thành lập và vận hành.</p>
              <a href="lkttnn.html" class="cta-link">Chi tiết TT Ngoại ngữ</a>
            </div>
          </div>
        </div>
      </section>

      <section class="video-section-enhanced content-section">
        <div class="container">
          <h2 class="section-heading">Video giới thiệu</h2>
          <div class="video-section"> <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/-U9JQvUYB94?si=msMmDd8Tg7kEv0Pm" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              <div class="video-caption">
                <a href="https://forms.gle/TH9n3MV5Ty4E46TL7" target="_blank" rel="noopener noreferrer">Đăng ký Talkshow 'Hãy Nói'</a> |
                <a href="https://aistudio.instagram.com/ai/663072466085450/" target="_blank" rel="noopener noreferrer">Chatbot Talkie</a>
              </div>
            </div>
            <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/VIDEO_ID_2" title="Trại hè Quốc tế tại Philippines" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
              <div class="video-caption">
                <a href="summercamp.html">Thông tin chi tiết Trại hè quốc tế Cebu</a>
              </div>
            </div>
            <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/VIDEO_ID_3" title="Video giới thiệu STEAM+ Intelligence Model" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
              <div class="video-caption">
                <a href="https://drive.google.com/file/d/19EcVr6rAlCYfnqPuwcqfiryDB3Z2CEQB/view?usp=drive_link" target="_blank" rel="noopener noreferrer">Tham khảo chương trình STEAM+</a>
              </div>
            </div>
            <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/VIDEO_ID_4" title="Video giới thiệu IVS Academy" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
              <div class="video-caption">
                <a href="https://drive.google.com/file/d/1BE_IwpPVQMB8tOVMrIsIMB9YCDvWPaQr/view?usp=drive_link" target="_blank" rel="noopener noreferrer">Tham khảo chương trình LIFEMinds</a>
              </div>
            </div>
            <div class="video-container">
              <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?si=q_ZD8eyrfjiEJvyi&amp;list=PLwqdiwWIIO2ea6HZlKDVsCBTSJ-vooIOC" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
              <div class="video-caption">
                <a href="https://www.youtube.com/@integratevisionsynergy" target="_blank" rel="noopener noreferrer">Kênh Youtube IVS Academy</a>
              </div>
            </div>
          </div>
        </div>
      </section>
     
        <section class="consultation-form-section content-section" style="background-color: var(--section-bg-light);">
          <div class="container">
              <h2 class="section-heading">Nhận Tư Vấn Miễn Phí</h2>
              <p class="section-subtitle">
                  Để lại thông tin của bạn, đội ngũ IVS sẽ liên hệ lại sớm nhất!
              </p>
              <form id="consultation-form" action="mailto:ivscorp.vn@gmail.com" method="post" enctype="text/plain">
                  <div class="form-group">
                      <label for="fullName">Họ và Tên:</label>
                      <input type="text" id="fullName" name="HoVaTen" placeholder="Nhập họ tên của bạn" required>
                  </div>
                  <div class="form-group">
                      <label for="phone">Số điện thoại:</label>
                      <input type="tel" id="phone" name="SoDienThoai" placeholder="Nhập số điện thoại" required>
                  </div>
                  <div class="form-group">
                      <label for="email">Email (Không bắt buộc):</label>
                      <input type="email" id="email" name="Email" placeholder="Nhập địa chỉ email">
                  </div>
                  <div class="form-group">
                      <label for="message">Nội dung cần tư vấn:</label>
                      <textarea id="message" name="NoiDungTuVan" rows="5" placeholder="Nhập nội dung bạn muốn được tư vấn..." required></textarea>
                  </div>
                  <div class="form-group form-submit">
                      <button type="submit" class="btn btn-primary">
                          <i class="fas fa-paper-plane"></i> Gửi Yêu Cầu Tư Vấn
                      </button>
                  </div>
                  <p class="form-note">Lưu ý: Nút gửi sẽ mở ứng dụng email mặc định trên thiết bị của bạn.</p>
              </form>
          </div>
      </section>
  </main>

  <footer id="footer-placeholder">Đang tải footer...</footer>

  <script src="js/script.js" defer></script>
</body>
</html>
