<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-lang-key="page_title_index">IVS JSC - Giáo dục, Công nghệ, Sức khỏe, Hợp tác Quốc tế</title>
    <meta name="description" content="IVS JSC - Tổ chức tiên phong tại Việt Nam trong lĩnh vực giáo dục (IVS Academy, IVS Kindergarten), EdTech (IVS Celestech), sức khỏe cộng đồng và hợp tác quốc tế." data-lang-key="meta_description_index">
    <meta property="og:title" content="IVS JSC - Giáo dục, Công nghệ, Sức khỏe, Hợp tác Quốc tế" data-lang-key="og_title_index">
    <meta property="og:description" content="Khám phá các giải pháp toàn diện về đào tạo ngoại ngữ, STEAM, kỹ năng sống, EdTech, chăm sóc sức khỏe và cơ hội hợp tác cùng IVS JSC." data-lang-key="og_description_index">
    <meta property="og:image" content="images/ivs-celestech.jpg"> <meta property="og:url" content="https://ivsjsc.github.io/index.html"> <meta property="og:type" content="website">

    <link rel="icon" href="images/logo/logo.png" type="image/x-icon"> <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              'primary': '#3b82f6', // blue-500
              'secondary': '#10b981', // emerald-500
              'purple-accent': '#8b5cf6', // purple-500
              'warning': '#f59e0b', // amber-500
              // Thêm các màu khác nếu cần từ config cũ
               'primary-dark': '#2563eb', // blue-700
               'gray-700': '#374151',
               'gray-600': '#4b5563',
               'gray-500': '#6b7280',
               'gray-300': '#d1d5db',
               'gray-200': '#e5e7eb',
               'gray-100': '#f3f4f6',
               'blue-600': '#2563eb', // Thêm các màu được dùng trong JS
               'red-500': '#ef4444'
            }
          }
        }
      }
    </script>

    <link rel="stylesheet" href="css/styles.css">
    <style>
      /* Nên chuyển các style này vào file css/styles.css */
      body { font-family: 'Inter', sans-serif; }
      .video-wrapper { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; width: 100%; background-color: #000; border-radius: 0.5rem; }
      .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
      button:disabled { opacity: 0.6; cursor: not-allowed; }
      #lang-vi-desktop.font-bold, #lang-en-desktop.font-bold,
      #lang-vi-mobile.font-bold, #lang-en-mobile.font-bold { color: #2563eb; }

      /* CSS cho thanh cuộn ngang đẹp hơn (Tùy chọn) */
      #news-container::-webkit-scrollbar {
          height: 8px;
      }
      #news-container::-webkit-scrollbar-track {
          background: #f3f4f6; /* gray-100 */
          border-radius: 10px;
      }
      #news-container::-webkit-scrollbar-thumb {
          background-color: #d1d5db; /* gray-300 */
          border-radius: 10px;
          border: 2px solid #f3f4f6; /* gray-100 */
      }
       #news-container::-webkit-scrollbar-thumb:hover {
          background-color: #9ca3af; /* gray-400 */
      }
      /* Ẩn thanh cuộn trên Firefox (nếu muốn) */
      /* #news-container { scrollbar-width: thin; scrollbar-color: #d1d5db #f3f4f6; } */
    </style>
</head>
<body class="bg-gray-100">

    <header id="header-placeholder"></header>

    <main class="container mx-auto px-4 py-8">

        <section class="hero-section text-center mb-12 p-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg shadow-xl">
            <h1 class="text-4xl md:text-5xl font-bold mb-4" data-lang-key="index_hero_title">Chào mừng đến với IVS JSC</h1>
            <p class="text-lg md:text-xl mb-6" data-lang-key="index_hero_subtitle">Kiến tạo tương lai giáo dục và sức khỏe Việt Nam</p>
            <a href="about.html" class="bg-white text-blue-600 font-semibold py-2 px-6 rounded-full hover:bg-gray-200 transition duration-300 inline-block shadow hover:shadow-md" data-lang-key="learn_more">Tìm hiểu thêm</a>
        </section>

        <section class="news-section mb-12">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-8" data-lang-key="index_news_title">Tin Tức & Sự Kiện</h2>
            <div id="news-container" class="flex overflow-x-auto space-x-6 pb-4">
                <p class="text-gray-500 w-full text-center" data-lang-key="loading_news">Đang tải tin tức...</p>
            </div>
        </section>


        <section class="services-section mb-12">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-8" data-lang-key="index_activities_title">Lĩnh Vực Hoạt Động Chính</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 flex flex-col">
                    <h3 class="text-xl font-semibold text-blue-600 mb-3" data-lang-key="activity_academy_title">IVS Academy</h3>
                    <p class="text-gray-600 mb-3 flex-grow" data-lang-key="activity_academy_desc">Đào tạo ngoại ngữ (Anh, Trung, Nhật), STEAM, kỹ năng mềm. Chương trình cộng đồng "Hãy Nói".</p>
                    <a href="lien-ket-quoc-te.html" class="text-purple-accent hover:underline font-medium mt-auto self-start" data-lang-key="details_link">Chi tiết...</a>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 flex flex-col">
                    <h3 class="text-xl font-semibold text-blue-600 mb-3" data-lang-key="activity_kindergarten_title">IVS Kindergarten</h3>
                    <p class="text-gray-600 mb-3 flex-grow" data-lang-key="activity_kindergarten_desc">Mầm non tiên phong áp dụng mô hình STEAM+Intelligence. Cơ sở vật chất hiện đại.</p>
                    <a href="lkmamnon.html" class="text-purple-accent hover:underline font-medium mt-auto self-start" data-lang-key="details_link">Chi tiết...</a>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 flex flex-col">
                    <h3 class="text-xl font-semibold text-blue-600 mb-3" data-lang-key="activity_celestech_title">IVS Celestech (EdTech)</h3>
                    <p class="text-gray-600 mb-3 flex-grow" data-lang-key="activity_celestech_desc">Phát triển giải pháp công nghệ giáo dục: E-learning, LMS, AI, VR/AR.</p>
                    <a href="ivscelestech.html" class="text-purple-accent hover:underline font-medium mt-auto self-start" data-lang-key="details_link">Chi tiết...</a>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 flex flex-col">
                    <h3 class="text-xl font-semibold text-blue-600 mb-3" data-lang-key="activity_health_title">IVS Health & Wellness</h3>
                    <p class="text-gray-600 mb-3 flex-grow" data-lang-key="activity_health_desc">Hợp tác phát triển sản phẩm sức khỏe như yến sào Thanh Yến, giáo dục dinh dưỡng cộng đồng.</p>
                    <a href="health-yensao.html" class="text-purple-accent hover:underline font-medium mt-auto self-start" data-lang-key="details_link">Chi tiết...</a>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 flex flex-col">
                    <h3 class="text-xl font-semibold text-blue-600 mb-3" data-lang-key="activity_cooperation_title">Hợp Tác Quốc Tế</h3>
                    <p class="text-gray-600 mb-3 flex-grow" data-lang-key="activity_cooperation_desc">Kết nối giáo dục và sức khỏe Việt Nam với thế giới: Du học, trại hè, liên kết đào tạo.</p>
                    <a href="lien-ket-quoc-te.html" class="text-purple-accent hover:underline font-medium mt-auto self-start" data-lang-key="details_link">Chi tiết...</a>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 flex flex-col">
                    <h3 class="text-xl font-semibold text-blue-600 mb-3" data-lang-key="activity_investment_title">Đầu Tư & Phát Triển</h3>
                    <p class="text-gray-600 mb-3 flex-grow" data-lang-key="activity_investment_desc">Xây dựng hệ thống giáo dục liên cấp IVS Global School và dự án bền vững.</p>
                    <a href="dau-tu.html" class="text-purple-accent hover:underline font-medium mt-auto self-start" data-lang-key="details_link">Chi tiết...</a>
                </div>
            </div>
        </section>

        <section class="video-section mb-12">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-8" data-lang-key="index_video_title">Video Giới Thiệu</h2>
            <div class="video-wrapper rounded-lg shadow-lg overflow-hidden max-w-4xl mx-auto">
                <iframe loading="lazy" width="560" height="315" src="https://www.youtube.com/embed/videoseries?si=34FCmlvMF1NAQ54N&list=PLwqdiwWIIO2ea6HZlKDVsCBTSJ-vooIOC" title="Video giới thiệu IVS JSC" data-lang-key="index_video_iframe_title" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
        </section>

        <!-- Đối tác Section -->
        <section class="bg-gradient-to-r from-secondary to-teal-600 text-white py-16 md:py-20 text-center" aria-labelledby="page-title-partners">
            <div class="container mx-auto px-4">
                <h1 id="page-title-partners" class="text-4xl md:text-5xl font-bold mb-3" data-lang-key="partners_page_title">Đối Tác Đồng Hành</h1>
                <p class="text-lg md:text-xl opacity-90" data-lang-key="partners_page_subtitle">Cùng IVS JSC Kiến Tạo Hệ Sinh Thái Giáo Dục Vững Mạnh</p>
            </div>
        </section>

        <section class="py-12 md:py-16">
            <div class="container mx-auto px-4 max-w-5xl">
                <div class="text-center mb-10 md:mb-12">
                    <h2 class="text-3xl font-bold text-primary mb-4" data-lang-key="partners_strategic_title">Mạng Lưới Đối Tác Chiến Lược</h2>
                    <p class="text-lg text-gray-600 leading-relaxed max-w-3xl mx-auto" data-lang-key="partners_strategic_intro">
                        IVS JSC tin rằng sức mạnh của sự hợp tác là chìa khóa để tạo ra những giá trị đột phá. Chúng tôi tự hào xây dựng và duy trì mối quan hệ đối tác chiến lược với các tổ chức uy tín trong và ngoài nước trên nhiều lĩnh vực.
                    </p>
                </div>

                <div class="space-y-12">
                    <div class="partner-category">
                        <h3 class="text-2xl font-semibold text-primary mb-6 pb-3 border-b border-gray-200 flex items-center gap-3" data-lang-key="partners_international_title">
                            <i class="fas fa-globe-americas text-secondary"></i> Đối tác Quốc tế
                        </h3>
                        <p class="text-gray-600 mb-6 text-sm" data-lang-key="partners_international_desc">Hợp tác chặt chẽ với các trường đại học, tổ chức giáo dục, doanh nghiệp tại:</p>
                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 md:gap-8 items-center text-center">
                            <div class="partner-logo p-4 bg-white border border-gray-200 rounded-md">
                                <img src="https://flagcdn.com/w160/us.png" alt="Đối tác Hoa Kỳ" loading="lazy" class="mx-auto h-12 object-contain mb-2">
                                <p class="text-xs text-gray-600" data-lang-key="country_us">Hoa Kỳ</p>
                            </div>
                            <div class="partner-logo p-4 bg-white border border-gray-200 rounded-md">
                                <img src="https://flagcdn.com/w160/tw.png" alt="Đối tác Đài Loan" loading="lazy" class="mx-auto h-12 object-contain mb-2">
                                <p class="text-xs text-gray-600" data-lang-key="country_tw">Đài Loan</p>
                            </div>
                            <div class="partner-logo p-4 bg-white border border-gray-200 rounded-md">
                                <img src="https://flagcdn.com/w160/ph.png" alt="Đối tác Philippines" loading="lazy" class="mx-auto h-12 object-contain mb-2">
                                <p class="text-xs text-gray-600" data-lang-key="country_ph">Philippines</p>
                            </div>
                            <div class="partner-logo p-4 bg-white border border-gray-200 rounded-md">
                                <img src="https://flagcdn.com/w160/eu.png" alt="Đối tác Châu Âu" loading="lazy" class="mx-auto h-12 object-contain mb-2">
                                <p class="text-xs text-gray-600" data-lang-key="country_eu">Châu Âu</p>
                            </div>
                            <div class="partner-logo p-4 bg-white border border-gray-200 rounded-md flex items-center justify-center h-full min-h-[88px]">
                                <p class="text-xs text-gray-500" data-lang-key="country_others">Và nhiều quốc gia khác...</p>
                            </div>
                        </div>
                    </div>

                    <div class="partner-category">
                        <h3 class="text-2xl font-semibold text-primary mb-6 pb-3 border-b border-gray-200 flex items-center gap-3" data-lang-key="partners_tech_title">
                            <i class="fas fa-microchip text-secondary"></i> Đối tác Công nghệ
                        </h3>
                        <p class="text-gray-600 mb-6 text-sm" data-lang-key="partners_tech_desc">Hợp tác phát triển và ứng dụng các giải pháp công nghệ giáo dục tiên tiến:</p>
                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 md:gap-8 items-center text-center">
                            <div class="partner-logo p-4 bg-white border border-gray-200 rounded-md">
                                <img src="https://placehold.co/150x60/eee/ccc?text=EdTech+Partner+1" alt="Đối tác EdTech 1" loading="lazy" class="mx-auto h-12 object-contain">
                            </div>
                            <div class="partner-logo p-4 bg-white border border-gray-200 rounded-md">
                                <img src="https://placehold.co/150x60/eee/ccc?text=EdTech+Partner+2" alt="Đối tác EdTech 2" loading="lazy" class="mx-auto h-12 object-contain">
                            </div>
                            <div class="partner-logo p-4 bg-white border border-gray-200 rounded-md flex items-center justify-center min-h-[88px]">
                                <p class="text-sm font-medium text-gray-700">ParagonCoder</p>
                            </div>
                            <div class="partner-logo p-4 bg-white border border-gray-200 rounded-md flex items-center justify-center h-full min-h-[88px]">
                                <p class="text-xs text-gray-500" data-lang-key="partners_tech_providers">Các nhà cung cấp LMS, AI, VR/AR...</p>
                            </div>
                        </div>
                    </div>

                    <div class="partner-category">
                        <h3 class="text-2xl font-semibold text-primary mb-6 pb-3 border-b border-gray-200 flex items-center gap-3" data-lang-key="partners_domestic_title">
                            <i class="fas fa-school text-secondary"></i> Đối tác Giáo dục trong nước
                        </h3>
                        <ul class="space-y-4 text-gray-700 leading-relaxed list-none pl-0">
                            <li class="flex items-start gap-3 p-4 bg-white border border-gray-200 rounded-md shadow-sm">
                                <i class="fas fa-school text-secondary mt-1 pt-0.5 text-lg"></i>
                                <div>
                                    <strong class="font-semibold text-gray-800" data-lang-key="partners_domestic_schools_title">Trường học các cấp:</strong>
                                    <p class="text-sm" data-lang-key="partners_domestic_schools_desc">Hợp tác với các trường Mầm non, Tiểu học, THCS, THPT tại tỉnh Đồng Nai và các tỉnh/thành phố lân cận trong việc triển khai chương trình liên kết, đào tạo giáo viên và hoạt động ngoại khóa.</p>
                                </div>
                            </li>
                            <li class="flex items-start gap-3 p-4 bg-white border border-gray-200 rounded-md shadow-sm">
                                <i class="fas fa-university text-secondary mt-1 pt-0.5 text-lg"></i>
                                <div>
                                    <strong class="font-semibold text-gray-800" data-lang-key="partners_domestic_universities_title">Trường Đại học & Cao đẳng Sư phạm:</strong>
                                    <p class="text-sm" data-lang-key="partners_domestic_universities_desc">Phối hợp nghiên cứu, đào tạo và bồi dưỡng giáo viên, cán bộ quản lý giáo dục cùng các đơn vị uy tín như Trường Cán bộ Quản lý Giáo dục TP.HCM, Đại học Sư phạm Hà Nội 2, Đại học Sư phạm Huế, Cao đẳng Sư phạm Trung ương,...</p>
                                </div>
                            </li>
                            <li class="flex items-start gap-3 p-4 bg-white border border-gray-200 rounded-md shadow-sm">
                                <i class="fas fa-language text-secondary mt-1 pt-0.5 text-lg"></i>
                                <div>
                                    <strong class="font-semibold text-gray-800" data-lang-key="partners_domestic_centers_title">Trung tâm Ngoại ngữ & Tin học:</strong>
                                    <p class="text-sm" data-lang-key="partners_domestic_centers_desc">Mở rộng mạng lưới liên kết đào tạo, chia sẻ tài nguyên và phương pháp giảng dạy hiện đại.</p>
                                </div>
                            </li>
                            <li class="flex items-start gap-3 p-4 bg-white border border-gray-200 rounded-md shadow-sm">
                                <i class="fas fa-handshake-angle text-secondary mt-1 pt-0.5 text-lg"></i>
                                <div>
                                    <strong class="font-semibold text-gray-800" data-lang-key="partners_domestic_projects_title">Đơn vị đồng thực hiện dự án:</strong>
                                    <p class="text-sm" data-lang-key="partners_domestic_projects_desc">Hợp tác triển khai các dự án giáo dục cộng đồng, nghiên cứu khoa học và các chương trình phát triển kỹ năng.</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="text-center mt-12 md:mt-16 pt-10 border-t border-gray-200">
                    <h3 class="text-2xl font-semibold text-primary mb-4" data-lang-key="partners_cta_title">Trở thành Đối tác của IVS JSC</h3>
                    <p class="text-gray-600 mb-6 max-w-2xl mx-auto" data-lang-key="partners_cta_desc">
                        Chúng tôi luôn tìm kiếm cơ hội hợp tác mới để cùng phát triển và mang lại nhiều giá trị hơn cho cộng đồng. Nếu bạn quan tâm đến việc hợp tác, xin vui lòng liên hệ với chúng tôi.
                    </p>
                    <a href="contact.html?interest=partnership" class="inline-block bg-warning hover:bg-amber-600 text-white font-medium py-3 px-6 rounded-md transition duration-300 shadow hover:shadow-md" data-lang-key="partners_cta_button">
                        Liên hệ Hợp tác
                    </a>
                </div>
            </div>
        </section>

        <div class="container mx-auto max-w-5xl p-4 md:p-8 bg-white shadow-lg rounded-lg my-8">
            <section class="mt-12">
                <h2 class="text-2xl font-semibold text-orange-600 mb-4 pb-2 border-b border-gray-200" data-lang-key="index_vnexpress_title">
                    Tin tức Giáo dục mới nhất từ VnExpress
                </h2>
                <div id="vnexpress-rss-feed" class="space-y-4">
                    <p class="text-gray-500" data-lang-key="loading_news">Đang tải tin tức...</p>
                </div>
            </section>
        </div>
    </main>

    <footer id="footer-placeholder"></footer>

    <script src="js/script.js" defer></script>
    <script src="js/language.js" defer></script>
    <script src="js/rss-loader.js" defer></script>

    <script>
        // Hàm tải tin tức nội bộ (posts.json)
        function loadInternalNews() {
            fetch('posts.json') // Đảm bảo file posts.json tồn tại
                .then(response => {
                    if (!response.ok) throw new Error('Network response was not ok ' + response.statusText);
                    const contentType = response.headers.get("content-type");
                    if (!contentType || !contentType.includes("application/json")) throw new TypeError("Oops, we haven't got JSON!");
                    return response.json();
                })
                .then(posts => {
                    const newsContainer = document.getElementById('news-container');
                    if (!newsContainer) return;
                    newsContainer.innerHTML = ''; // Xóa "Đang tải..."

                    const sortedPosts = Array.isArray(posts) ? posts.sort((a, b) => {
                        try {
                            // Ưu tiên 'date', sau đó đến 'id' nếu date giống nhau hoặc không có
                            const dateA = a && a.date ? new Date(a.date) : null;
                            const dateB = b && b.date ? new Date(b.date) : null;
                            const idA = a && a.id ? parseInt(a.id, 10) : 0;
                            const idB = b && b.id ? parseInt(b.id, 10) : 0;

                            if (dateA instanceof Date && !isNaN(dateA) && dateB instanceof Date && !isNaN(dateB)) {
                                if (dateB !== dateA) return dateB - dateA; // Sort by date desc
                            } else if (dateA instanceof Date && !isNaN(dateA)) return -1; // A has date, B doesn't
                            else if (dateB instanceof Date && !isNaN(dateB)) return 1;  // B has date, A doesn't

                            // Fallback to sorting by ID desc if dates are same or invalid
                            return idB - idA;

                        } catch(e) { return 0; }
                    }) : [];

                    // Lấy tối đa 10 bài mới nhất
                    const latestPosts = sortedPosts.slice(0, 10);
                    const currentLang = localStorage.getItem('preferredLanguage') || 'vi'; // Lấy ngôn ngữ hiện tại

                    if (latestPosts.length === 0) {
                        const noNewsText = window.translations?.[currentLang]?.no_news || (currentLang === 'en' ? 'No news yet.' : 'Chưa có tin tức nào.');
                        newsContainer.innerHTML = `<p class="text-gray-500 w-full text-center">${noNewsText}</p>`;
                        // Quan trọng: Reset lại class của container nếu không có tin tức
                        newsContainer.className = 'text-center'; // Bỏ flex, overflow...
                        return;
                    }

                     // Cập nhật lại class cho container để có thể cuộn ngang
                     newsContainer.className = 'flex overflow-x-auto space-x-6 pb-4';

                    latestPosts.forEach(post => {
                        const postElement = document.createElement('div');
                        // Thêm class chiều rộng và flex-shrink-0 cho item
                        postElement.className = 'bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 flex flex-col w-72 flex-shrink-0'; // w-72 có thể điều chỉnh

                        const fallbackImage = 'https://placehold.co/400x250/E2E8F0/A0AEC0?text=News';
                        // Đảm bảo đường dẫn ảnh đúng, nếu không bắt đầu bằng / hoặc http thì thêm / vào trước
                        const imageUrl = post.image ? ((post.image.startsWith('/') || post.image.startsWith('http')) ? post.image : '/' + post.image) : fallbackImage;
                        // QUAN TRỌNG: Đảm bảo 'post.link' trong posts.json là URL hợp lệ đến bài viết chi tiết
                        const postLink = post.link || '#'; // Nếu không có link thì dùng #
                        const title = post.title || (window.translations?.[currentLang]?.news_title_na || 'N/A');
                        const excerpt = post.excerpt || '';
                        const dateString = post.date ? new Date(post.date).toLocaleDateString(currentLang === 'en' ? 'en-US' : 'vi-VN', { day: '2-digit', month: '2-digit', year: 'numeric' }) : '';
                        const readMoreText = window.translations?.[currentLang]?.read_more || 'Xem thêm →';
                        const altText = post.title || (window.translations?.[currentLang]?.news_image_alt || 'News image');

                        postElement.innerHTML = `
                            <a href="${postLink}" class="block mb-3 group">
                                <img src="${imageUrl}" alt="${altText}" class="rounded-md w-full h-40 object-cover transition-transform duration-300 group-hover:scale-105" onerror="this.onerror=null;this.src='${fallbackImage}';">
                            </a>
                            <div class="flex-grow flex flex-col">
                                <h3 class="text-lg font-semibold text-gray-800 mb-1 group-hover:text-blue-600 transition duration-300 leading-tight">
                                    <a href="${postLink}">${title}</a>
                                </h3>
                                <p class="text-gray-500 text-xs mb-2">${dateString}</p>
                                <p class="text-gray-600 text-sm mb-3 flex-grow">${excerpt.substring(0, 80)}${excerpt.length > 80 ? '...' : ''}</p> <div class="mt-auto">
                                    <a href="${postLink}" class="text-blue-600 hover:underline font-medium text-sm">${readMoreText}</a>
                                </div>
                            </div>
                        `;
                        newsContainer.appendChild(postElement);
                    });
                })
                .catch(error => {
                    console.error('Lỗi khi tải tin tức nội bộ:', error);
                    const newsContainer = document.getElementById('news-container');
                    if(newsContainer) {
                        const currentLang = localStorage.getItem('preferredLanguage') || 'vi';
                        const errorText = window.translations?.[currentLang]?.news_load_error || (currentLang === 'en' ? 'Could not load news.' : 'Không thể tải tin tức.');
                        newsContainer.innerHTML = `<p class="text-red-500 w-full text-center">${errorText} ${error.message}.</p>`;
                        newsContainer.className = 'text-center'; // Reset class nếu lỗi
                    }
                });
        }

        // Chạy loadInternalNews khi DOM đã sẵn sàng
        document.addEventListener('DOMContentLoaded', loadInternalNews);

        // Script tải Header/Footer (Giữ nguyên)
        function loadComponent(url, placeholderId, callback) {
             fetch(url)
                .then(response => {
                    if (!response.ok) throw new Error(`Failed to load ${url}: ${response.statusText}`);
                    return response.text();
                })
                .then(data => {
                    const placeholder = document.getElementById(placeholderId);
                    if (placeholder) {
                        placeholder.innerHTML = data;
                        if (callback && typeof callback === 'function') {
                            setTimeout(callback, 0);
                        }
                    }
                })
                .catch(error => console.error(`Error loading component ${url}:`, error));
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadComponent('header.html', 'header-placeholder', () => {
                // Đảm bảo các hàm này tồn tại trong script.js hoặc language.js
                if (typeof initializeMenu === 'function') initializeMenu();
                if (typeof setLanguage === 'function') setLanguage(localStorage.getItem('preferredLanguage') || 'vi');
            });
            loadComponent('footer.html', 'footer-placeholder', () => {
                 if (typeof setLanguage === 'function') setLanguage(localStorage.getItem('preferredLanguage') || 'vi');
            });
        });
    </script>

</body>
</html>
