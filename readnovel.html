<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liên Hệ - IVS JSC</title>
    <meta name="description" content="Liên hệ với IVS JSC để được tư vấn và hỗ trợ về các dịch vụ giáo dục, hợp tác và đầu tư.">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#3b82f6',
                        'secondary': '#10b981',
                        'warning': '#f59e0b',
                        'neutral': {
                            50: '#f9fafb', 100: '#f3f4f6', 200: '#e5e7eb', 300: '#d1d5db', 500: '#6b7280', 700: '#374151',
                        },
                        'blue-600': '#2563eb', 'red-100': '#fee2e2', 'red-300': '#fca5a5', 'red-700': '#b91c1c', 'red-800': '#991b1b',
                        'gray-50': '#f9fafb', 'gray-200': '#e5e7eb', 'gray-500': '#6b7280', 'gray-700': '#374151',
                        'gray-800': '#1f2937', 'gray-900': '#111827', 'red-900': '#7f1d1d', 'red-200': '#fecaca',
                    }
                }
            },
            plugins: [],
        };

    </script>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            padding-top: 60px; /* Default padding for mobile header */
        }
        @media (min-width: 1024px) {
            body { padding-top: 80px; } /* Padding for desktop header */
        }
        .fetch-error-message {
            text-align: center; padding: 1rem; border: 1px solid #e5e7eb; border-radius: 0.5rem; color: #b91c1c; background-color: #fee2e2;
        }
        .fetch-error-message.header-error {
             position: fixed; top: 0; left: 0; right: 0; z-index: 50; min-height: 60px; display: flex; align-items: center; justify-content: center;
        }
         @media (min-width: 1024px) { .fetch-error-message.header-error { min-height: 80px; } }
        .fetch-error-message.footer-error { margin-top: 1rem; }
        html.dark .fetch-error-message { background-color: rgba(127, 29, 29, 0.5); border-color: #b91c1c; color: #fecaca; }
        .map-container iframe { width: 100%; height: 400px; border: 0; display: block; }
        .contact-info i { width: 1.25em; text-align: center; margin-right: 0.75rem; flex-shrink: 0; }
        .contact-info p { display: flex; align-items: flex-start; }
        /* Style for the Google Form container */
        .google-form-container {
            position: relative;
            width: 100%;
            min-height: 1000px; /* Tăng chiều cao tối thiểu để chứa form dài */
            height: 80vh; /* Chiều cao tương đối để cố gắng vừa màn hình */
            max-height: 1350px; /* Giới hạn chiều cao tối đa */
            border: 1px solid #d1d5db; /* neutral-300 */
            border-radius: 0.5rem; /* bo góc */
            overflow: auto; /* Cho phép cuộn nếu nội dung dài hơn */
            -webkit-overflow-scrolling: touch; /* Cuộn mượt trên iOS */
        }
         .google-form-container iframe {
             /* Iframe sẽ chiếm toàn bộ container */
             width: 100%;
             height: 100%;
             border: 0;
         }
         body {
            font-family: 'Inter', sans-serif;
            padding-top: 60px; /* Default padding for mobile header */
        }
        @media (min-width: 1024px) {
            body { padding-top: 80px; } /* Padding for desktop header */
        }
        .fetch-error-message {
            text-align: center; padding: 1rem; border: 1px solid #e5e7eb; border-radius: 0.5rem; color: #b91c1c; background-color: #fee2e2;
        }
        .fetch-error-message.header-error {
             position: fixed; top: 0; left: 0; right: 0; z-index: 50; min-height: 60px; display: flex; align-items: center; justify-content: center;
        }
         @media (min-width: 1024px) { .fetch-error-message.header-error { min-height: 80px; } }
        .fetch-error-message.footer-error { margin-top: 1rem; }
        html.dark .fetch-error-message { background-color: rgba(127, 29, 29, 0.5); border-color: #b91c1c; color: #fecaca; }
        .map-container iframe { width: 100%; height: 400px; border: 0; display: block; }
        .contact-info i { width: 1.25em; text-align: center; margin-right: 0.75rem; flex-shrink: 0; }
        .contact-info p { display: flex; align-items: flex-start; }
        /* Style for the Google Form container */
        .google-form-container {
            position: relative;
            width: 100%;
            min-height: 1000px; /* Tăng chiều cao tối thiểu để chứa form dài */
            height: 80vh; /* Chiều cao tương đối để cố gắng vừa màn hình */
            max-height: 1350px; /* Giới hạn chiều cao tối đa */
            border: 1px solid #d1d5db; /* neutral-300 */
            border-radius: 0.5rem; /* bo góc */
            overflow: auto; /* Cho phép cuộn nếu nội dung dài hơn */
            -webkit-overflow-scrolling: touch; /* Cuộn mượt trên iOS */
        }
         .google-form-container iframe {
             /* Iframe sẽ chiếm toàn bộ container */
             width: 100%;
             height: 100%;
             border: 0;
         }         
    </style>
</head>
<body class="bg-gray-50 text-neutral-700 font-sans antialiased">

    <header id="header-placeholder">
        <div class="fixed top-0 left-0 right-0 z-50 flex items-center justify-center bg-gray-200 text-gray-500 animate-pulse" style="height: 60px;">Đang tải header...</div>
         @media (min-width: 1024px) {
             <div class="fixed top-0 left-0 right-0 z-50 flex items-center justify-center bg-gray-200 text-gray-500 animate-pulse" style="height: 80px;">Đang tải header...</div>
         }
    </header>



    <main class="pt-[var(--header-height-mobile)] md:pt-[var(--header-height-initial)]">
        <div class="main-content-wrapper flex-grow py-8">
            <div class="page-content-container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h1 class="page-title text-3xl font-bold mb-6" data-lang-key="readnovel_title">Chọn Truyện Để Đọc</h1>

                <!-- Search Bar -->
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="Tìm kiếm truyện..." class="w-full p-2 bg-transparent focus:outline-none">
                </div>

                <!-- Settings -->
                <div class="settings flex justify-end mb-4">
                    <button onclick="toggleDarkMode()" aria-label="Chuyển chế độ Sáng/Tối" title="Chuyển chế độ Sáng/Tối" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700">
                        <i class="fas fa-adjust"></i>
                    </button>
                </div>

                <!-- Novel List -->
                <div class="novel-list">
                    <!-- LEGNAXE: Phần 1 -->
                    <div class="novel-card group">
                        <a href="legnaxe_part1_vi.html" class="cover-link" aria-label="Đọc LEGNAXE Phần 1 Tiếng Việt">
                            <picture>
                                <source srcset="images/pages/novels/legnaxe1.webp" type="image/webp">
                                <img src="images/pages/novels/legnaxe1.png" alt="Bìa truyện LEGNAXE Phần 1" class="book-cover" loading="lazy" onerror="this.src='https://placehold.co/400x600/EBF4FF/4A5568?text=LEGNAXE+P1'; this.alt='Lỗi tải ảnh bìa LEGNAXE Phần 1';">
                            </picture>
                        </a>
                        <div class="card-content">
                            <h3 class="text-lg font-semibold !line-clamp-1" data-lang-key="readnovel_legnaxe1_title">LEGNAXE: Phần 1</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400 line-clamp-2" data-lang-key="readnovel_legnaxe1_desc">Bí mật cuộc đại chiến Thiên Đàng / Secrets of Heaven's Great War.</p>
                            <div class="flex flex-col sm:flex-row gap-3 mt-auto">
                                <a href="legnaxe_part1_vi.html" class="read-button" data-lang-key="readnovel_read_vi">
                                    <i class="fas fa-book-open mr-2"></i> Đọc (TV)
                                </a>
                                <a href="legnaxe_part1_en.html" class="read-button english-button" data-lang-key="readnovel_read_en">
                                    <i class="fas fa-book-open mr-2"></i> Read (EN)
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- LEGNAXE: Phần 2 -->
                    <div class="novel-card group">
                        <a href="legnaxe_part2_vi.html" class="cover-link" aria-label="Đọc LEGNAXE Phần 2 Tiếng Việt">
                            <picture>
                                <source srcset="images/pages/novels/legnaxe2.webp" type="image/webp">
                                <img src="images/pages/novels/legnaxe2.png" alt="Bìa truyện LEGNAXE Phần 2" class="book-cover" loading="lazy" onerror="this.src='https://placehold.co/400x600/FFF5F5/7F1D1D?text=LEGNAXE+P2'; this.alt='Lỗi tải ảnh bìa LEGNAXE Phần 2';">
                            </picture>
                        </a>
                        <div class="card-content">
                            <h3 class="text-lg font-semibold !line-clamp-1" data-lang-key="readnovel_legnaxe2_title">LEGNAXE: Phần 2</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400 line-clamp-2" data-lang-key="readnovel_legnaxe2_desc">Hành trình Trần Gian & Trái tim con người / Heavenly, Human’s Heart.</p>
                            <div class="flex flex-col sm:flex-row gap-3 mt-auto">
                                <a href="legnaxe_part2_vi.html" class="read-button" data-lang-key="readnovel_read_vi">
                                    <i class="fas fa-book-open mr-2"></i> Đọc (TV)
                                </a>
                                <a href="legnaxe_part2_en.html" class="read-button english-button" data-lang-key="readnovel_read_en">
                                    <i class="fas fa-book-open mr-2"></i> Read (EN)
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer id="footer-placeholder">
        <div class="bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-center p-4 animate-pulse">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="h-6 w-48 bg-gray-300 dark:bg-gray-600 rounded mx-auto mb-4"></div>
                <div class="flex justify-center space-x-4">
                    <div class="h-4 w-20 bg-gray-300 dark:bg-gray-600 rounded"></div>
                    <div class="h-4 w-20 bg-gray-300 dark:bg-gray-600 rounded"></div>
                    <div class="h-4 w-20 bg-gray-300 dark:bg-gray-600 rounded"></div>
                </div>
            </div>
        </div>
        <!-- Fallback Footer -->
        <div class="fetch-error-fallback hidden">
            <div class="bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-center p-4">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="mb-4">
                        <a href="/" class="text-lg font-semibold text-gray-700 dark:text-gray-300">IVS STEAM</a>
                    </div>
                    <div class="flex justify-center space-x-4 mb-4">
                        <a href="index.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Trang Chủ</a>
                        <a href="steambyivs.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">STEAM</a>
                        <a href="readnovel.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Chọn Truyện</a>
                        <a href="contact.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">Liên Hệ</a>
                    </div>
                    <div class="text-sm">
                        <p>© 2025 IVS STEAM. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button class="back-to-top" onclick="scrollToTop()" aria-label="Quay lại đầu trang">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        // Dark Mode Logic
        function toggleDarkMode() {
            const isDarkMode = document.documentElement.classList.toggle("dark");
            localStorage.setItem('darkMode', isDarkMode ? 'enabled' : 'disabled');
        }

        function applyInitialDarkMode() {
            if (localStorage.getItem('darkMode') === 'enabled' || (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add("dark");
            }
        }
        applyInitialDarkMode();

        // Search Functionality
        document.getElementById('searchInput')?.addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            document.querySelectorAll('.novel-card').forEach(card => {
                const title = card.querySelector('h3').textContent.toLowerCase();
                const desc = card.querySelector('p').textContent.toLowerCase();
                card.style.display = (title.includes(searchTerm) || desc.includes(searchTerm)) ? '' : 'none';
            });
        });

        // Back to Top Button
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        window.addEventListener('scroll', function() {
            const backToTopButton = document.querySelector('.back-to-top');
            backToTopButton.classList.toggle('visible', window.scrollY > 300);
        });

        // Fetch Header and Footer
        document.addEventListener('DOMContentLoaded', function() {
            const headerPlaceholder = document.getElementById('header-placeholder');
            const footerPlaceholder = document.getElementById('footer-placeholder');
            const headerPath = 'header.html';
            const footerPath = 'footer.html';

            function handleFetchError(error, placeholderElement, type, filePath) {
                console.error(`Error fetching ${type} from ${filePath}:`, error);
                placeholderElement.querySelector('.fetch-error-fallback').classList.remove('hidden');
            }

            if (headerPlaceholder) {
                fetch(headerPath)
                    .then(response => {
                        if (!response.ok) throw new Error(`HTTP error fetching header! Status: ${response.status}`);
                        return response.text();
                    })
                    .then(data => {
                        headerPlaceholder.innerHTML = data;
                        setActiveNavLink('readnovel.html');
                    })
                    .catch(error => handleFetchError(error, headerPlaceholder, 'header', headerPath));
            }

            if (footerPlaceholder) {
                fetch(footerPath)
                    .then(response => {
                        if (!response.ok) throw new Error(`HTTP error fetching footer! Status: ${response.status}`);
                        return response.text();
                    })
                    .then(data => {
                        footerPlaceholder.innerHTML = data;
                    })
                    .catch(error => handleFetchError(error, footerPlaceholder, 'footer', footerPath));
            }
        });

        // Set Active Navigation Link
        function setActiveNavLink(currentPageHref) {
            const navLinks = document.querySelectorAll('#header-placeholder a, #mobile-menu a');
            navLinks.forEach(link => {
                if (link.getAttribute('href') === currentPageHref) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>