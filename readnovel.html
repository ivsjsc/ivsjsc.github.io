<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chọn Truyện Để Đọc</title>
    <meta name="description" content="Danh sách truyện hấp dẫn: LEGNAXE - Bí mật cuộc chiến Thiên Đàng.">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {},
                }
            },
            darkMode: 'class'
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --header-height-initial: 80px;
            --header-height-scrolled: 60px;
            --header-height-mobile: 60px;
        }

        body {
            padding-top: var(--header-height-mobile);
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
            @apply bg-gray-100 text-gray-800 flex flex-col min-h-screen;
        }

        @media (min-width: 1024px) {
            body { padding-top: var(--header-height-initial); }
        }

        html.dark body { @apply bg-gray-900 text-gray-300; }
        html.dark .page-content-container { @apply bg-gray-800; }
        html.dark h1.page-title { @apply text-sky-400; }
        html.dark .novel-card { @apply bg-gray-700 border-gray-600; }
        html.dark .novel-card h3 { @apply text-gray-100; }
        html.dark .novel-card p { @apply text-gray-300; }
        html.dark .novel-card a.read-button:not([aria-disabled='true']) {
            @apply bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-700 hover:to-blue-700;
        }
        html.dark .settings button {
            @apply bg-gradient-to-r from-pink-600 to-red-600 hover:from-pink-700 hover:to-red-700;
        }

        /* Header (unchanged for brevity) */
        #navbar {
            height: var(--header-height-mobile);
            @apply fixed top-0 left-0 right-0 z-50 bg-gray-900 text-white shadow-md transition-all duration-300;
        }

        @media (min-width: 1024px) {
            #navbar { height: var(--header-height-initial); }
            #navbar.scrolled { height: var(--header-height-scrolled); @apply bg-gray-800 shadow-lg; }
        }

        #navbar .logo-img {
            height: calc(var(--header-height-mobile) - 24px);
            @apply rounded-md;
        }

        @media (min-width: 1024px) {
            #navbar .logo-img { height: calc(var(--header-height-initial) - 32px); }
            #navbar.scrolled .logo-img { height: calc(var(--header-height-scrolled) - 24px); }
        }

        #navbar .nav-link,
        #navbar .main-menu-item > button,
        #navbar .dropdown-toggle,
        #navbar .search-button {
            @apply text-sm font-medium px-3 py-2 rounded-md transition-colors text-white hover:bg-gray-700 focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-orange-400 touch-action-manipulation;
        }

        #navbar .cta-button {
            @apply text-white px-4 py-2 rounded-full text-sm font-semibold bg-orange-500 hover:bg-orange-600 focus:ring-offset-gray-900 focus:ring-blue-400;
        }

        /* Dropdown Menu (unchanged) */
        .submenu, .sub-submenu {
            @apply absolute hidden bg-white text-gray-700 shadow-lg rounded-md py-2 mt-1 z-60;
        }

        .submenu a, .submenu button,
        .sub-submenu a, .sub-submenu button {
            @apply block w-full text-left px-4 py-2 text-sm hover:bg-gray-100;
        }

        .group:hover .submenu, .group/sub:hover .sub-submenu { @apply block; }

        /* Mobile Menu (unchanged) */
        #mobile-menu-panel {
            @apply fixed top-0 right-0 h-full w-80 max-w-[90%] bg-white shadow-xl z-[55] transform transition-transform duration-300 ease-in-out flex flex-col;
        }

        #mobile-menu-panel .mobile-header {
            @apply sticky top-0 bg-white z-10 px-4 py-3 border-b border-gray-200 flex justify-between items-center;
        }

        #mobile-menu-panel .nav-link,
        #mobile-menu-panel .mobile-submenu-toggle {
            @apply block text-base font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 rounded-md py-3 px-4 min-h-[44px] flex items-center touch-action-manipulation;
        }

        #mobile-menu-panel .mobile-submenu {
            @apply pl-4 mt-1 space-y-1 block transform opacity-0 transition-all duration-200 ease-in;
        }

        #mobile-menu-panel .mobile-submenu.open {
            @apply transform-none opacity-100;
        }

        #mobile-menu-panel .submenu-arrow {
            @apply transition-transform duration-200;
        }

        #mobile-menu-panel .submenu-arrow.rotate-90 {
            @apply rotate-90;
        }

        /* Optimized Novel List */
        .page-content-container {
            @apply mt-6 mb-8 p-4 sm:p-6 bg-white rounded-xl shadow-lg;
        }

        h1.page-title {
            @apply text-center text-3xl sm:text-4xl font-bold text-gray-800 mt-4 mb-8 tracking-tight;
        }

        .novel-list {
            @apply grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 sm:gap-8;
        }

        .novel-card {
            @apply bg-white rounded-lg overflow-hidden shadow-md border border-gray-200 flex flex-col transition-all duration-300 hover:shadow-xl hover:-translate-y-2;
        }

        .novel-card .cover-link {
            @apply block overflow-hidden relative;
        }

        .novel-card img.book-cover {
            @apply w-full h-64 sm:h-80 object-cover transition-transform duration-300 group-hover:scale-105;
        }

        .novel-card .card-content {
            @apply p-4 sm:p-5 flex flex-col flex-grow bg-gray-50 dark:bg-gray-700;
        }

        .novel-card h3 {
            @apply text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-2 leading-tight line-clamp-2 tracking-tight;
        }

        .novel-card p {
            @apply text-sm sm:text-base text-gray-600 dark:text-gray-300 mb-4 flex-grow line-clamp-3 leading-relaxed;
        }

        .novel-card a.read-button {
            @apply block w-full text-center py-3 px-4 bg-gradient-to-r from-blue-600 to-sky-600 text-white rounded-lg text-base sm:text-lg font-semibold shadow-md hover:from-blue-700 hover:to-sky-700 hover:shadow-lg min-h-[52px] transition-all duration-300 touch-action-manipulation mt-auto;
        }

        .novel-card a.read-button[aria-disabled='true'] {
            @apply bg-gradient-to-r from-gray-400 to-gray-500 text-gray-200 cursor-not-allowed hover:from-gray-400 hover:to-gray-500 shadow-none;
        }

        .novel-card.opacity-70 a.read-button {
            @apply opacity-70;
        }

        .settings {
            @apply fixed bottom-4 right-4 z-50;
        }

        .settings button {
            @apply py-2 px-5 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full text-sm font-medium shadow hover:shadow-md transition-all duration-300 touch-action-manipulation;
        }

        /* Footer (simplified) */
        footer .grid { @apply grid-cols-1 gap-6; }
        footer .space-y-3 { @apply space-y-2; }
    </style>
</head>
<body>
    <header id="header-placeholder"></header>

    <div class="main-content-wrapper flex-grow">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="page-content-container">
                <h1 class="page-title">Chọn Truyện Để Đọc</h1>
                <div class="settings">
                    <button onclick="toggleDarkMode()">Chuyển chế độ sáng/tối</button>
                </div>
                <div class="novel-list">
                    <div class="novel-card group">
                        <a href="legnaxe_part1_vi.html" class="cover-link">
                            <picture>
                                <source srcset="images/pages/novels/legnaxe1.webp" type="image/webp">
                                <img src="images/pages/novels/legnaxe1.png" alt="Bìa LEGNAXE Phần 1 Tiếng Việt" class="book-cover" loading="lazy" onerror="this.src='https://placehold.co/200x300/eee/aaa?text=Ảnh+Lỗi';">
                            </picture>
                        </a>
                        <div class="card-content">
                            <h3>LEGNAXE: Bí Mật Cuộc Đại Chiến Thiên Đàng (P1 - TV)</h3>
                            <p>Bí mật đằng sau cuộc chiến vĩ đại trên Thiên Đàng, một câu chuyện đầy kịch tính và bất ngờ.</p>
                            <a href="legnaxe_part1_vi.html" class="read-button">Đọc ngay</a>
                        </div>
                    </div>
                    <div class="novel-card group">
                        <a href="legnaxe_part1_en.html" class="cover-link">
                            <picture>
                                <source srcset="https://placehold.co/200x300/ddd/999?text=LEGNAXE+P1+EN.webp" type="image/webp">
                                <img src="https://placehold.co/200x300/ddd/999?text=LEGNAXE+P1+EN" alt="Bìa LEGNAXE Phần 1 Tiếng Anh" class="book-cover" loading="lazy" onerror="this.src='https://placehold.co/200x300/eee/aaa?text=Image+Error';">
                            </picture>
                        </a>
                        <div class="card-content">
                            <h3>LEGNAXE: Secrets of Heaven's Great War (P1 - EN)</h3>
                            <p>Uncover the secrets behind the epic war in Heaven, filled with drama and surprises.</p>
                            <a href="legnaxe_part1_en.html" class="read-button">Read Now</a>
                        </div>
                    </div>
                    <div class="novel-card group">
                        <a href="legnaxe_part2_vi.html" class="cover-link">
                            <picture>
                                <source srcset="images/pages/novels/legnaxe2.webp" type="image/webp">
                                <img src="images/pages/novels/legnaxe2.png" alt="Bìa LEGNAXE Phần 2 Tiếng Việt" class="book-cover" loading="lazy" onerror="this.src='https://placehold.co/200x300/eee/aaa?text=Ảnh+Lỗi';">
                            </picture>
                        </a>
                        <div class="card-content">
                            <h3>LEGNAXE: Heavenly, Human’s Heart (P2 - TV)</h3>
                            <p>Hành trình ở Trần Gian, khám phá bài học sâu sắc về trái tim con người.</p>
                            <a href="legnaxe_part2_vi.html" class="read-button">Đọc ngay</a>
                        </div>
                    </div>
                    <div class="novel-card group opacity-70">
                        <a href="#" class="cover-link cursor-default">
                            <picture>
                                <source srcset="https://placehold.co/200x300/ccc/888?text=LEGNAXE+P2+EN+(Soon).webp" type="image/webp">
                                <img src="https://placehold.co/200x300/ccc/888?text=LEGNAXE+P2+EN+(Soon)" alt="Bìa LEGNAXE Phần 2 Tiếng Anh (Sắp có)" class="book-cover" loading="lazy" onerror="this.src='https://placehold.co/200x300/eee/aaa?text=Image+Error';">
                            </picture>
                        </a>
                        <div class="card-content">
                            <h3>LEGNAXE: Heavenly, Human’s Heart (P2 - EN - Soon)</h3>
                            <p>The journey on Earth and the profound lesson of the human heart (Coming soon).</p>
                            <a href="#" class="read-button" aria-disabled="true">Read Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer id="footer-placeholder"></footer>
    
    <script>
        // Previous JavaScript content (unchanged)
        function toggleDarkMode() {
            const isDarkMode = document.documentElement.classList.toggle("dark");
            localStorage.setItem('darkMode', isDarkMode ? 'enabled' : 'disabled');
        }

        if (localStorage.getItem('darkMode') === 'enabled' || (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add("dark");
        }

        // Rest of the JavaScript (navbar, mobile menu, language dropdown, etc.)
    </script>